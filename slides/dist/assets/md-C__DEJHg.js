import{d as In,am as _e,K as Ln,f as gn,o as Tt,g as H,af as Et,aK as An,b as Vn,w as Pn,e as Nn,ai as Tn,v as Wn,x as Bn,T as pn}from"./modules/vue-BTPtaZYJ.js";import{_ as Rn}from"./ember-e-circle-icon-4c-BdMEL0Ab.js";import{_ as Gn}from"./ghostty-logo-DJtuO61E.js";import{I as yn,ap as Fn,_ as Dn,aj as jn}from"./index-rrfv9S9i.js";import{I as zn}from"./slidev/default-DK2CKHz1.js";import"./modules/shiki-BdPiwYA1.js";const Hn="/images/starbeam.png",Un="/images/glimmer-next.png",Yn="/images/NCC-1701-a-gold.svg",Zn="/images/tc-39-signals.svg",qn="/images/svelte-logo.svg",Xn="/images/solid-logo.svg",$n="/images/vue-logo.svg",cn="/images/html5.png",Qn="/images/webgl.png",Kn="/images/ios.png",Jn="/images/android.png",ei="/images/unreal-engine.png";var Oe=(function({ee:K=40}){var N=navigator.userAgent.includes("Gecko"),O,P,C,z,q,se,Le,We,Me,De,rt,re,J,Be,Ce,Bt,Rt,Gt,ze,Ft,Dt,xt,jt,ce="linker-line",Ae=1,Ve=2,je=3,Re=4,lt={top:Ae,right:Ve,bottom:je,left:Re},zt=1,Ht=2,kt=3,wt=4,Ut=5,Yt={straight:zt,arc:Ht,fluid:kt,magnet:wt,grid:Ut},Pe="behind",Sn=ce+"-defs",_n='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="linker-line-defs"><style><![CDATA[.linker-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:1em}#linker-line-defs{width:0;height:0;position:absolute;left:0;top:0}.linker-line-line-path{fill:none}.linker-line-mask-bg-rect{fill:white}.linker-line-caps-mask-anchor,.linker-line-caps-mask-marker-shape{fill:black}.linker-line-caps-mask-anchor{stroke:black}.linker-line-caps-mask-line,.linker-line-plugs-face{stroke:rgba(0,0,0,0)}.linker-line-line-mask-shape{stroke:white}.linker-line-line-outline-mask-shape{stroke:black}.linker-line-plug-mask-shape{fill:white;stroke:black}.linker-line-plug-outline-mask-shape{fill:black;stroke:white}.linker-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="linker-line-disc" cx="0" cy="0" r="5"/><rect id="linker-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="linker-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="linker-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="linker-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="linker-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="linker-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',ut=Se.plugs={disc:{elmId:"linker-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"linker-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"linker-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"linker-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"linker-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"linker-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"linker-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},ht=Se.names={behind:Pe,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},pt=ht,Ot=[Ae,Ve,je,Re],He="auto",Zt={x:"left",y:"top",width:"width",height:"height"},vn=80,qt=4,bn=5,En=120,Xt=8,xn=3.75,Ze=10,ct=.5522847,kn=.25*Math.PI,$t=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,U="http://www.w3.org/2000/svg",$e="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,xe=!$e&&!!document.uniqueID,qe="MozAppearance"in document.documentElement.style,Xe=!($e||qe||!window.chrome||!window.CSS),le=!$e&&!xe&&!qe&&!Xe&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,Qt=xe||$e?.2:.1,Ee={path:kt,lineColor:"coral",lineSize:4,plugSE:[Pe,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Ge=(Dt={}.toString,xt={}.hasOwnProperty.toString,jt=xt.call(Object),function(e){return e&&Dt.call(e)==="[object Object]"&&(!(e=Object.getPrototypeOf(e))||(e=e.hasOwnProperty("constructor")&&e.constructor)&&typeof e=="function"&&xt.call(e)===jt)}),ve=Number.isFinite||function(e){return typeof e=="number"&&window.isFinite(e)},pe=(Be={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},Ce=1e3/60/2,Bt=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,Ce)},Rt=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},Gt=Number.isFinite||function(e){return typeof e=="number"&&window.isFinite(e)},ze=[],Ft=0,{add:function(e,t,n,i,o,a,l){var d,f,x,y,_,M,m,c,h,u,p=++Ft;function E(w,k){return{value:e(k),timeRatio:w,outputRatio:k}}if(typeof o=="string"&&(o=Be[o]),e=e||function(){},n<Ce)d=[E(0,0),E(1,1)];else{if(f=Ce/n,d=[E(0,0)],o[0]===0&&o[1]===0&&o[2]===1&&o[3]===1)for(y=f;y<=1;y+=f)d.push(E(y,y));else for(_=x=(y=f)/10;_<=1;_+=x)m=_,u=h=c=void 0,c=(u=_*_)*_,u*=3*(h=1-_),y<=(M={x:(m=3*(h*h)*_)*o[0]+u*o[2]+c,y:m*o[1]+u*o[3]+c}).x&&(d.push(E(M.x,M.y)),y+=f);d.push(E(1,1))}return ze.push(a={animId:p,frameCallback:t,duration:n,count:i,frames:d,reverse:!!a}),l!==!1&&tn(a,l),p},remove:function(e){var t;ze.some(function(n,i){return n.animId===e&&(t=i,!(n.framesStart=null))})&&ze.splice(t,1)},start:function(e,t,n){ze.some(function(i){return i.animId===e&&(i.reverse=!!t,tn(i,n),!0)})},stop:function(e,t){var n;return ze.some(function(i){return i.animId===e&&(t?i.lastFrame!=null&&(n=i.frames[i.lastFrame].timeRatio):(n=(Date.now()-i.framesStart)/i.duration,(n=i.reverse?1-n:n)<0?n=0:1<n&&(n=1)),!(i.framesStart=null))}),n},validTiming:function(e){return typeof e=="string"?Be[e]:Array.isArray(e)&&[0,1,2,3].every(function(t){return Gt(e[t])&&0<=e[t]&&e[t]<=1})?[e[0],e[1],e[2],e[3]]:null}}),wn=function(e,t){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData&&!t||(function(){function n(m){this._string=m,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var i={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},o=e.navigator.userAgent.indexOf("MSIE ")!==-1;n.prototype={parseSegment:function(){var h=this._string[this._currentIndex],m=i[h]||null;if(m===null){if(this._prevCommand===null||(m=(h==="+"||h==="-"||h==="."||"0"<=h&&h<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var c=null,h=(this._prevCommand=m).toUpperCase();return h==="H"||h==="V"?c=[this._parseNumber()]:h==="M"||h==="L"||h==="T"?c=[this._parseNumber(),this._parseNumber()]:h==="S"||h==="Q"?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:h==="C"?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:h==="A"?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:h==="Z"&&(this._skipOptionalSpaces(),c=[]),c===null||0<=c.indexOf(null)?null:{type:m,values:c}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var m=this._string[this._currentIndex];return i[m]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var m=this.peekSegmentType();return m==="M"||m==="m"},_isCurrentSpace:function(){var m=this._string[this._currentIndex];return m<=" "&&(m===" "||m===`
`||m==="	"||m==="\r"||m==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var m=0,c=0,h=1,u=0,p=1,E=1,w=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,p=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var k=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==k)for(var R=this._currentIndex-1,A=1;k<=R;)c+=A*(this._string[R]-"0"),--R,A*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)h*=10,u+=(this._string.charAt(this._currentIndex)-"0")/h,this._currentIndex+=1}if(this._currentIndex!==w&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,E=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)m*=10,m+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var S=c+u;return S*=p,m&&(S*=Math.pow(10,E*m)),w===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),S)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var m=null,c=this._string[this._currentIndex];if(this._currentIndex+=1,c==="0")m=0;else{if(c!=="1")return null;m=1}return this._skipOptionalSpacesOrDelimiter(),m}};function a(m){if(!m||m.length===0)return[];var c=new n(m),h=[];if(c.initialCommandIsMoveTo())for(;c.hasMoreData();){var u=c.parseSegment();if(u===null)break;h.push(u)}return h}function l(m){return m.map(function(c){return{type:c.type,values:Array.prototype.slice.call(c.values)}})}function d(m){var c=[],h=null,u=null,p=null,E=null,w=null,k=null,R=null;return m.forEach(function(A){var S,L,s,r,v,T,g,V;A.type==="M"?(g=A.values[0],V=A.values[1],c.push({type:"M",values:[g,V]}),E=k=g,w=R=V):A.type==="C"?(v=A.values[0],T=A.values[1],S=A.values[2],L=A.values[3],g=A.values[4],V=A.values[5],c.push({type:"C",values:[v,T,S,L,g,V]}),u=S,p=L,E=g,w=V):A.type==="L"?(g=A.values[0],V=A.values[1],c.push({type:"L",values:[g,V]}),E=g,w=V):A.type==="H"?(g=A.values[0],c.push({type:"L",values:[g,w]}),E=g):A.type==="V"?(V=A.values[0],c.push({type:"L",values:[E,V]}),w=V):A.type==="S"?(S=A.values[0],L=A.values[1],g=A.values[2],V=A.values[3],r=h==="C"||h==="S"?(s=E+(E-u),w+(w-p)):(s=E,w),c.push({type:"C",values:[s,r,S,L,g,V]}),u=S,p=L,E=g,w=V):A.type==="T"?(g=A.values[0],V=A.values[1],T=h==="Q"||h==="T"?(v=E+(E-u),w+(w-p)):(v=E,w),c.push({type:"C",values:[s=E+2*(v-E)/3,r=w+2*(T-w)/3,g+2*(v-g)/3,V+2*(T-V)/3,g,V]}),u=v,p=T,E=g,w=V):A.type==="Q"?(v=A.values[0],T=A.values[1],g=A.values[2],V=A.values[3],c.push({type:"C",values:[s=E+2*(v-E)/3,r=w+2*(T-w)/3,g+2*(v-g)/3,V+2*(T-V)/3,g,V]}),u=v,p=T,E=g,w=V):A.type==="A"?(L=A.values[0],s=A.values[1],r=A.values[2],v=A.values[3],T=A.values[4],g=A.values[5],V=A.values[6],L===0||s===0?(c.push({type:"C",values:[E,w,g,V,g,V]}),E=g,w=V):E===g&&w===V||M(E,w,g,V,L,s,r,v,T).forEach(function(j){c.push({type:"C",values:j}),E=g,w=V})):A.type==="Z"&&(c.push(A),E=k,w=R),h=A.type}),c}var f=e.SVGPathElement.prototype.setAttribute,x=e.SVGPathElement.prototype.removeAttribute,y=e.Symbol?e.Symbol():"__cachedPathData",_=e.Symbol?e.Symbol():"__cachedNormalizedPathData",M=function(m,c,h,D,V,j,w,k,R,A){function S(W,X,Q){return{x:W*Math.cos(Q)-X*Math.sin(Q),y:W*Math.sin(Q)+X*Math.cos(Q)}}var L=Math.PI*w/180,G=[];A?(F=A[0],g=A[1],ee=A[2],T=A[3]):(m=(Y=S(m,c,-L)).x,c=Y.y,1<(Y=(v=(m-(h=(r=S(h,D,-L)).x))/2)*v/(V*V)+(s=(c-(D=r.y))/2)*s/(j*j))&&(V*=Y=Math.sqrt(Y),j*=Y),r=V*V,Y=j*j,ee=(r=(k===R?-1:1)*Math.sqrt(Math.abs((r*Y-r*s*s-Y*v*v)/(r*s*s+Y*v*v))))*V*s/j+(m+h)/2,T=r*-j*v/V+(c+D)/2,F=Math.asin(parseFloat(((c-T)/j).toFixed(9))),g=Math.asin(parseFloat(((D-T)/j).toFixed(9))),m<ee&&(F=Math.PI-F),h<ee&&(g=Math.PI-g),F<0&&(F=2*Math.PI+F),g<0&&(g=2*Math.PI+g),R&&g<F&&(F-=2*Math.PI),!R&&F<g&&(g-=2*Math.PI));var s,r,v,Y=g-F;Math.abs(Y)>120*Math.PI/180&&(s=g,r=h,v=D,g=R&&F<g?F+120*Math.PI/180*1:F+120*Math.PI/180*-1,h=ee+V*Math.cos(g),D=T+j*Math.sin(g),G=M(h,D,r,v,V,j,w,0,R,[g,s,ee,T]));var Y=g-F,ee=Math.cos(F),T=Math.sin(F),F=Math.cos(g),g=Math.sin(g),Y=Math.tan(Y/4),V=4/3*V*Y,j=4/3*j*Y,Y=[m,c],ee=[m+V*T,c-j*ee],F=[h+V*g,D-j*F],D=[h,D];if(ee[0]=2*Y[0]-ee[0],ee[1]=2*Y[1]-ee[1],A)return[ee,F,D].concat(G);var G=[ee,F,D].concat(G).join().split(","),te=[],I=[];return G.forEach(function(W,X){X%2?I.push(S(G[X-1],G[X],L).y):I.push(S(G[X],G[X+1],L).x),I.length===6&&(te.push(I),I=[])}),te};e.SVGPathElement.prototype.setAttribute=function(m,c){m==="d"&&(this[y]=null,this[_]=null),f.call(this,m,c)},e.SVGPathElement.prototype.removeAttribute=function(m,c){m==="d"&&(this[y]=null,this[_]=null),x.call(this,m)},e.SVGPathElement.prototype.getPathData=function(m){if(m&&m.normalize)return this[_]?l(this[_]):(this[y]?w=l(this[y]):(w=a(this.getAttribute("d")||""),this[y]=l(w)),m=d((c=[],E=p=u=h=null,w.forEach(function(k){var R,A,S,L,s,r,v=k.type;v==="M"?(s=k.values[0],r=k.values[1],c.push({type:"M",values:[s,r]}),h=p=s,u=E=r):v==="m"?(s=h+k.values[0],r=u+k.values[1],c.push({type:"M",values:[s,r]}),h=p=s,u=E=r):v==="L"?(s=k.values[0],r=k.values[1],c.push({type:"L",values:[s,r]}),h=s,u=r):v==="l"?(s=h+k.values[0],r=u+k.values[1],c.push({type:"L",values:[s,r]}),h=s,u=r):v==="C"?(R=k.values[0],A=k.values[1],S=k.values[2],L=k.values[3],s=k.values[4],r=k.values[5],c.push({type:"C",values:[R,A,S,L,s,r]}),h=s,u=r):v==="c"?(R=h+k.values[0],A=u+k.values[1],S=h+k.values[2],L=u+k.values[3],s=h+k.values[4],r=u+k.values[5],c.push({type:"C",values:[R,A,S,L,s,r]}),h=s,u=r):v==="Q"?(R=k.values[0],A=k.values[1],s=k.values[2],r=k.values[3],c.push({type:"Q",values:[R,A,s,r]}),h=s,u=r):v==="q"?(R=h+k.values[0],A=u+k.values[1],s=h+k.values[2],r=u+k.values[3],c.push({type:"Q",values:[R,A,s,r]}),h=s,u=r):v==="A"?(s=k.values[5],r=k.values[6],c.push({type:"A",values:[k.values[0],k.values[1],k.values[2],k.values[3],k.values[4],s,r]}),h=s,u=r):v==="a"?(s=h+k.values[5],r=u+k.values[6],c.push({type:"A",values:[k.values[0],k.values[1],k.values[2],k.values[3],k.values[4],s,r]}),h=s,u=r):v==="H"?(s=k.values[0],c.push({type:"H",values:[s]}),h=s):v==="h"?(s=h+k.values[0],c.push({type:"H",values:[s]}),h=s):v==="V"?(r=k.values[0],c.push({type:"V",values:[r]}),u=r):v==="v"?(r=u+k.values[0],c.push({type:"V",values:[r]}),u=r):v==="S"?(S=k.values[0],L=k.values[1],s=k.values[2],r=k.values[3],c.push({type:"S",values:[S,L,s,r]}),h=s,u=r):v==="s"?(S=h+k.values[0],L=u+k.values[1],s=h+k.values[2],r=u+k.values[3],c.push({type:"S",values:[S,L,s,r]}),h=s,u=r):v==="T"?(s=k.values[0],r=k.values[1],c.push({type:"T",values:[s,r]}),h=s,u=r):v==="t"?(s=h+k.values[0],r=u+k.values[1],c.push({type:"T",values:[s,r]}),h=s,u=r):v!=="Z"&&v!=="z"||(c.push({type:"Z",values:[]}),h=p,u=E)}),c)),this[_]=l(m),m);if(this[y])return l(this[y]);var c,h,u,p,E,w=a(this.getAttribute("d")||"");return this[y]=l(w),w},e.SVGPathElement.prototype.setPathData=function(m){if(m.length===0)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var c="",h=0,u=m.length;h<u;h+=1){var p=m[h];0<h&&(c+=" "),c+=p.type,p.values&&0<p.values.length&&(c+=" "+p.values.join(" "))}this.setAttribute("d",c)}},e.SVGRectElement.prototype.getPathData=function(m){var c=this.x.baseVal.value,w=this.y.baseVal.value,h=this.width.baseVal.value,u=this.height.baseVal.value,p=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,E=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,w=(w=[{type:"M",values:[c+(p=h/2<p?h/2:p),w]},{type:"H",values:[c+h-p]},{type:"A",values:[p,E=u/2<E?u/2:E,0,0,1,c+h,w+E]},{type:"V",values:[w+u-E]},{type:"A",values:[p,E,0,0,1,c+h-p,w+u]},{type:"H",values:[c+p]},{type:"A",values:[p,E,0,0,1,c,w+u-E]},{type:"V",values:[w+E]},{type:"A",values:[p,E,0,0,1,c+p,w]},{type:"Z",values:[]}]).filter(function(k){return k.type!=="A"||k.values[0]!==0&&k.values[1]!==0});return w=m&&m.normalize===!0?d(w):w},e.SVGCircleElement.prototype.getPathData=function(m){var c=this.cx.baseVal.value,u=this.cy.baseVal.value,h=this.r.baseVal.value,u=[{type:"M",values:[c+h,u]},{type:"A",values:[h,h,0,0,1,c,u+h]},{type:"A",values:[h,h,0,0,1,c-h,u]},{type:"A",values:[h,h,0,0,1,c,u-h]},{type:"A",values:[h,h,0,0,1,c+h,u]},{type:"Z",values:[]}];return u=m&&m.normalize===!0?d(u):u},e.SVGEllipseElement.prototype.getPathData=function(m){var c=this.cx.baseVal.value,p=this.cy.baseVal.value,h=this.rx.baseVal.value,u=this.ry.baseVal.value,p=[{type:"M",values:[c+h,p]},{type:"A",values:[h,u,0,0,1,c,p+u]},{type:"A",values:[h,u,0,0,1,c-h,p]},{type:"A",values:[h,u,0,0,1,c,p-u]},{type:"A",values:[h,u,0,0,1,c+h,p]},{type:"Z",values:[]}];return p=m&&m.normalize===!0?d(p):p},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var m=[],c=0;c<this.points.numberOfItems;c+=1){var h=this.points.getItem(c);m.push({type:c===0?"M":"L",values:[h.x,h.y]})}return m},e.SVGPolygonElement.prototype.getPathData=function(){for(var m=[],c=0;c<this.points.numberOfItems;c+=1){var h=this.points.getItem(c);m.push({type:c===0?"M":"L",values:[h.x,h.y]})}return m.push({type:"Z",values:[]}),m}})()},$e=(re={},ge.m=rt=[function(e,t,n){n.r(t);var i=500,o=[],a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(_){return setTimeout(_,1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(_){return clearTimeout(_)},d=Date.now(),f=void 0;function x(){var _=void 0,M=void 0;f&&(l.call(window,f),f=null),o.forEach(function(m){var c;(c=m.event)&&(m.event=null,m.listener(c),_=!0)}),_?(d=Date.now(),M=!0):Date.now()-d<i&&(M=!0),M&&(f=a.call(window,x))}function y(_){var M=-1;return o.some(function(m,c){return m.listener===_&&(M=c,!0)}),M}t.default={add:function(_){var M=void 0;return y(_)===-1?(o.push(M={listener:_}),function(m){M.event=m,f||x()}):null},remove:function(_){-1<(_=y(_))&&(o.splice(_,1),!o.length&&f&&(l.call(window,f),f=null))}}}],ge.c=re,ge.d=function(e,t,n){ge.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},ge.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ge.t=function(e,t){if(1&t&&(e=ge(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(ge.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var i in e)ge.d(n,i,(function(o){return e[o]}).bind(null,i));return n},ge.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ge.d(t,"a",t),t},ge.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ge.p="",ge(ge.s=0).default),Mt={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Pe},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Pe},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Pe},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Kt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Jt="fade",Ct=[],me={},On=0,de={},Mn=0;function ge(e){if(re[e])return re[e].exports;var t=re[e]={i:e,l:!1,exports:{}};return rt[e].call(t.exports,t,t.exports,ge),t.l=!0,t.exports}function en(){var e=Date.now(),t=!1;J&&(Rt.call(window,J),J=null),ze.forEach(function(n){var i,o,a;if(n.framesStart){if((i=e-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return a=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(n.framesStart=null);if(i>n.duration){if(o=Math.floor(i/n.duration),n.count){if(o>=n.loopsLeft)return a=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(n.framesStart=null);n.loopsLeft-=o}n.framesStart+=n.duration*o,i=e-n.framesStart}n.reverse&&(i=n.duration-i),a=n.frames[n.lastFrame=Math.round(i/Ce)],n.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)!==!1?t=!0:n.framesStart=null}}),t&&(J=Bt.call(window,en))}function tn(e,t){e.framesStart=Date.now(),t!=null&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,en()}function Ue(e,t){var n,i;return typeof e!=typeof t||(n=Ge(e)?"obj":Array.isArray(e)?"array":"")!=(Ge(t)?"obj":Array.isArray(t)?"array":"")||(n==="obj"?Ue(i=Object.keys(e).sort(),Object.keys(t).sort())||i.some(function(o){return Ue(e[o],t[o])}):n==="array"?e.length!==t.length||e.some(function(o,a){return Ue(o,t[a])}):e!==t)}function ye(e){return e&&(Ge(e)?Object.keys(e).reduce(function(t,n){return t[n]=ye(e[n]),t},{}):Array.isArray(e)?e.map(ye):e)}function et(e){var t,n,i,o=1,a=e=(e+"").trim();function l(x){var f=1,x=$t.exec(x);return x&&(f=parseFloat(x[1]),x[2]?f=0<=f&&f<=100?f/100:1:(f<0||1<f)&&(f=1)),f}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),i=t[2].trim().split(/\s*,\s*/),n==="rgba"&&i.length===4?(o=l(i[3]),a="rgb("+i.slice(0,3).join(", ")+")"):n==="hsla"&&i.length===4?(o=l(i[3]),a="hsl("+i.slice(0,3).join(", ")+")"):n==="hwb"&&i.length===4?(o=l(i[3]),a="hwb("+i.slice(0,3).join(", ")+")"):n==="gray"&&i.length===2?(o=l(i[1]),a="gray("+i[0]+")"):n==="device-cmyk"&&5<=i.length&&(o=l(i[4]),a="device-cmyk("+i.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?a=t[1]?(o=parseInt(t[2],16)/255,"#"+t[1]):(o=parseInt(t[4]+t[4],16)/255,"#"+t[3]):e.toLocaleLowerCase()==="transparent"&&(o=0),[o,a]}function tt(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||typeof e.getBoundingClientRect!="function")}function dt(e,t){var n,i,o,a={};if(!(o=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(i in n=e.getBoundingClientRect())a[i]=n[i];if(!t){if(!(o=o.defaultView))return console.error("Cannot get window that contains the element."),null;a.left+=o.pageXOffset,a.right+=o.pageXOffset,a.top+=o.pageYOffset,a.bottom+=o.pageYOffset}return a}function It(e,t){var n,i=[],o=e;for(t=t||window;;){if(!(n=o.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(n=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(n===t)break;if(!(o=n.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(o)}return i}function nt(e,t){var n=0,i=0;return(t=It(e,t=t||window))?t.length?(t.forEach(function(o,a){var l=dt(o,0<a);n+=l.left,i+=l.top,o=(a=o).ownerDocument.defaultView.getComputedStyle(a,""),l={left:a.clientLeft+parseFloat(o.paddingLeft),top:a.clientTop+parseFloat(o.paddingTop)},n+=l.left,i+=l.top}),(t=dt(e,!0)).left+=n,t.right+=n,t.top+=i,t.bottom+=i,t):dt(e):null}function Ie(e,i){var n=e.x-i.x,i=e.y-i.y;return Math.sqrt(n*n+i*i)}function it(e,o,n){var i=o.x-e.x,o=o.y-e.y;return{x:e.x+i*n,y:e.y+o*n,angle:Math.atan2(o,i)/(Math.PI/180)}}function ft(e,t,n){return e=Math.atan2(e.y-t.y,t.x-e.x),{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n*-1}}function Qe(m,c,n,u,h){var M=h*h,_=M*h,a=1-h,y=a*a,x=y*a,l=x*m.x+3*y*h*c.x+3*a*M*n.x+_*u.x,d=x*m.y+3*y*h*c.y+3*a*M*n.y+_*u.y,f=m.x+2*h*(c.x-m.x)+M*(n.x-2*c.x+m.x),x=m.y+2*h*(c.y-m.y)+M*(n.y-2*c.y+m.y),y=c.x+2*h*(n.x-c.x)+M*(u.x-2*n.x+c.x),_=c.y+2*h*(n.y-c.y)+M*(u.y-2*n.y+c.y),M=a*m.x+h*c.x,m=a*m.y+h*c.y,c=a*n.x+h*u.x,h=a*n.y+h*u.y,u=90-180*Math.atan2(f-y,x-_)/Math.PI;return{x:l,y:d,fromP2:{x:f,y:x},toP1:{x:y,y:_},fromP1:{x:M,y:m},toP2:{x:c,y:h},angle:u+=180<u?-180:180}}function at(e,t,n,i,o){function a(_,M,m,c,h){return _*(_*(-3*M+9*m-9*c+3*h)+6*M-12*m+6*c)-3*M+3*m}var l,d,f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],x=0,y=(o=o==null||1<o?1:o<0?0:o)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(_,M){l=a(d=y*_+y,e.x,t.x,n.x,i.x),d=a(d,e.y,t.y,n.y,i.y),d=l*l+d*d,x+=f[M]*Math.sqrt(d)}),y*x}function Lt(e,t,n,i,o){for(var a,l=.5,d=1-l;a=at(e,t,n,i,d),!(Math.abs(a-o)<=.01);)d+=(a<o?1:-1)*(l/=2);return d}function At(e,t){var n;return e.forEach(function(i){i=t?i.map(function(o){return o={x:o.x,y:o.y},t(o),o}):i,(n=n||[{type:"M",values:[i[0].x,i[0].y]}]).push(i.length?i.length===2?{type:"L",values:[i[1].x,i[1].y]}:{type:"C",values:[i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y]}:{type:"Z",values:[]})}),n}function nn(e){var t=[],n=0;return e.forEach(function(i){i=(i.length===2?Ie:at).apply(null,i),t.push(i),n+=i}),{segsLen:t,lenAll:n}}function mt(e,t){return e==null||t==null||e.length!==t.length||e.some(function(n,i){var o=t[i];return n.type!==o.type||n.values.some(function(a,l){return a!==o.values[l]})})}function ue(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function he(e,t,n){var i;e.events[t]&&-1<(i=e.events[t].indexOf(n))&&e.events[t].splice(i,1)}function Ke(e){Le&&clearTimeout(Le),Ct.push(e),Le=setTimeout(function(){Ct.forEach(function(t){t()}),Ct=[]},0)}function ae(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function an(e){e.reflowTargets.forEach(function(t){var n;n=t,setTimeout(function(){var i=n.parentNode,o=n.nextSibling;i.insertBefore(i.removeChild(n),o)},0)}),e.reflowTargets=[]}function on(e,t,n,i,o,a,l){var d;n==="auto-start-reverse"?(typeof We!="boolean"&&(t.setAttribute("orient","auto-start-reverse"),We=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),We?t.setAttribute("orient",n):((d=o.createSVGTransform()).setRotate(180,0,0),a.transform.baseVal.appendItem(d),t.setAttribute("orient","auto"),d=!0)):(t.setAttribute("orient",n),We===!1&&a.transform.baseVal.clear()),t=t.viewBox.baseVal,d?(t.x=-i.right,t.y=-i.bottom):(t.x=i.left,t.y=i.top),t.width=i.width,t.height=i.height,xe&&ae(e,l)}function sn(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function fe(e,t){Object.keys(t).forEach(function(n){var i=t[n];e[n]=i.iniValue!=null?i.hasSE?[i.iniValue,i.iniValue]:i.iniValue:i.hasSE?i.hasProps?[{},{}]:[]:i.hasProps?{}:null})}function B(e,t,n,i,o){return i!==t[n]&&(t[n]=i,o&&o.forEach(function(a){a(e,i,n)}),!0)}function rn(i){function t(a,l){return a+parseFloat(l)}var o=i.document,n=i.getComputedStyle(o.documentElement,""),i=i.getComputedStyle(o.body,""),o={x:0,y:0};return i.position!=="static"?(o.x-=[n.marginLeft,n.borderLeftWidth,n.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(t,0),o.y-=[n.marginTop,n.borderTopWidth,n.paddingTop,i.marginTop,i.borderTopWidth].reduce(t,0)):n.position!=="static"&&(o.x-=[n.marginLeft,n.borderLeftWidth].reduce(t,0),o.y-=[n.marginTop,n.borderTopWidth].reduce(t,0)),o}function ln(e){var t,n=e.document;n.getElementById(Sn)||(t=new e.DOMParser().parseFromString(_n,"image/svg+xml"),n.body.appendChild(t.documentElement),wn(e,N))}function Cn(e){let{ee:t}=e.options;var n,i,o,a,l,d,f,x,y,_,M,m,c,h,u=e.options,p=e.curStats,E=e.aplStats,w=p.position_socketXYSE,k=!1;function R(S,L){return S=L===Ae?{x:S.left+S.width/2,y:S.top}:L===Ve?{x:S.right,y:S.top+S.height/2}:L===je?{x:S.left+S.width/2,y:S.bottom}:{x:S.left,y:S.top+S.height/2},S.socketId=L,S}function A(S){return{x:S.x,y:S.y}}if(p.position_path=u.path,p.position_lineStrokeWidth=p.line_strokeWidth,p.position_socketGravitySE=n=ye(u.socketGravitySE),i=[0,1].map(function(S){var L=u.anchorSE[S],s=e.optionIsAttach.anchorSE[S],r=s!==!1?de[L._id]:null,v=s!==!1&&r.conf.getStrokeWidth?r.conf.getStrokeWidth(r,e):0,T=s!==!1&&r.conf.getBBoxNest?r.conf.getBBoxNest(r,e,v):nt(L,e.baseWindow);return p.capsMaskAnchor_pathDataSE[S]=s!==!1&&r.conf.getPathData?r.conf.getPathData(r,e,v):(s=(L=T).right!=null?L.right:L.left+L.width,r=L.bottom!=null?L.bottom:L.top+L.height,[{type:"M",values:[L.left,L.top]},{type:"L",values:[s,L.top]},{type:"L",values:[s,r]},{type:"L",values:[L.left,r]},{type:"Z",values:[]}]),p.capsMaskAnchor_strokeWidthSE[S]=v,T}),f=-1,u.socketSE[0]&&u.socketSE[1]?(w[0]=R(i[0],u.socketSE[0]),w[1]=R(i[1],u.socketSE[1])):(u.socketSE[0]||u.socketSE[1]?(d=u.socketSE[0]?(l=0,1):(l=1,0),w[l]=R(i[l],u.socketSE[l]),(a=Ot.map(function(S){return R(i[d],S)})).forEach(function(S){var L=Ie(S,w[l]);(L<f||f===-1)&&(w[d]=S,f=L)})):(a=Ot.map(function(S){return R(i[1],S)}),Ot.map(function(S){return R(i[0],S)}).forEach(function(S){a.forEach(function(L){var s=Ie(S,L);(s<f||f===-1)&&(w[0]=S,w[1]=L,f=s)})})),[0,1].forEach(function(S){var L,s;u.socketSE[S]||(i[S].width||i[S].height?i[S].width||w[S].socketId!==Re&&w[S].socketId!==Ve?i[S].height||w[S].socketId!==Ae&&w[S].socketId!==je||(w[S].socketId=0<=w[S?0:1].y-i[S].top?je:Ae):w[S].socketId=0<=w[S?0:1].x-i[S].left?Ve:Re:(L=w[S?0:1].x-i[S].left,s=w[S?0:1].y-i[S].top,w[S].socketId=Math.abs(L)>=Math.abs(s)?0<=L?Ve:Re:0<=s?je:Ae))})),p.position_path!==E.position_path||p.position_lineStrokeWidth!==E.position_lineStrokeWidth||[0,1].some(function(S){return p.position_plugOverheadSE[S]!==E.position_plugOverheadSE[S]||(L=w[S],s=E.position_socketXYSE[S],L.x!==s.x||L.y!==s.y||L.socketId!==s.socketId)||(L=n[S],s=E.position_socketGravitySE[S],(S=L==null?"auto":Array.isArray(L)?"array":"number")!=(s==null?"auto":Array.isArray(s)?"array":"number")||(S=="array"?L[0]!==s[0]||L[1]!==s[1]:L!==s));var L,s})){switch(e.pathList.baseVal=o=[],e.pathList.animVal=null,p.position_path){case zt:o.push([A(w[0]),A(w[1])]);break;case Ht:m=typeof n[0]=="number"&&0<n[0]||typeof n[1]=="number"&&0<n[1],c=kn*(m?-1:1),h=Math.atan2(w[1].y-w[0].y,w[1].x-w[0].x),m=c-h,h=Math.PI-h-c,c=Ie(w[0],w[1])/Math.sqrt(2)*ct,m={x:w[0].x+Math.cos(m)*c,y:w[0].y+Math.sin(m)*c*-1},c={x:w[1].x+Math.cos(h)*c,y:w[1].y+Math.sin(h)*c*-1},o.push([A(w[0]),m,c,A(w[1])]);break;case kt:case wt:y=[n[0],p.position_path===wt?0:n[1]],_=[],M=[],w.forEach(function(S,L){var s,r=y[L],v=Array.isArray(r)?{x:r[0],y:r[1]}:typeof r=="number"?S.socketId===Ae?{x:0,y:-r}:S.socketId===Ve?{x:r,y:0}:S.socketId===je?{x:0,y:r}:{x:-r,y:0}:(s=w[L?0:1],r=0<(r=p.position_plugOverheadSE[L])?En+(Xt<r?(r-Xt)*xn:0):vn+(p.position_lineStrokeWidth>qt?(p.position_lineStrokeWidth-qt)*bn:0),S.socketId===Ae?{x:0,y:-(v=(v=(S.y-s.y)/2)<r?r:v)}:S.socketId===Ve?{x:v=(v=(s.x-S.x)/2)<r?r:v,y:0}:S.socketId===je?{x:0,y:v=(v=(s.y-S.y)/2)<r?r:v}:{x:-(v=(v=(S.x-s.x)/2)<r?r:v),y:0});_[L]=S.x+v.x,M[L]=S.y+v.y}),o.push([A(w[0]),{x:_[0],y:M[0]},{x:_[1],y:M[1]},A(w[1])]);break;case Ut:(function(){var S,L=1,s=2,r=3,v=4,T=[[],[]],g=[];function V(I){return I===L?r:I===s?v:I===r?L:s}function j(I){return I===s||I===v?"x":"y"}function Y(I,W,X){var Q={x:I.x,y:I.y};if(X){if(X===V(I.dirId))throw new Error("Invalid dirId: "+X);Q.dirId=X}else Q.dirId=I.dirId;return Q.dirId===L?Q.y-=W:Q.dirId===s?Q.x+=W:Q.dirId===r?Q.y+=W:Q.x-=W,Q}function ee(I,W){return W.dirId===L?I.y<=W.y:W.dirId===s?I.x>=W.x:W.dirId===r?I.y>=W.y:I.x<=W.x}function F(I,W){return W.dirId===L||W.dirId===r?I.x===W.x:I.y===W.y}function D(I){return I[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function G(I,W,X){return Math.abs(W[X]-I[X])}function te(I,W,X){return X==="x"?I.x<W.x?s:v:I.y<W.y?r:L}for(w.forEach(function(I,W){var X=A(I),Q=n[W];I=Array.isArray(Q)?Q[0]<0?[v,-Q[0]]:0<Q[0]?[s,Q[0]]:Q[1]<0?[L,-Q[1]]:0<Q[1]?[r,Q[1]]:[I.socketId,0]:typeof Q!="number"?[I.socketId,t]:0<=Q?[I.socketId,Q]:[V(I.socketId),-Q],X.dirId=I[0],Q=I[1],T[W].push(X),g[W]=Y(X,Q)});(function(){var I,W,X,Q,be=[ee(g[1],g[0]),ee(g[0],g[1])],ie=[j(g[0].dirId),j(g[1].dirId)];if(ie[0]===ie[1]){if(be[0]&&be[1])return void(F(g[1],g[0])||(g[0][ie[0]]===g[1][ie[1]]?(T[0].push(g[0]),T[1].push(g[1])):(I=g[0][ie[0]]+(g[1][ie[1]]-g[0][ie[0]])/2,T[0].push(Y(g[0],Math.abs(I-g[0][ie[0]]))),T[1].push(Y(g[1],Math.abs(I-g[1][ie[1]]))))));be[0]!==be[1]?(W=D(be),(X=G(g[W.notContain],g[W.contain],ie[W.notContain]))<t&&(g[W.notContain]=Y(g[W.notContain],t-X)),T[W.notContain].push(g[W.notContain]),g[W.notContain]=Y(g[W.notContain],t,F(g[W.contain],g[W.notContain])?ie[W.notContain]==="x"?r:s:te(g[W.notContain],g[W.contain],ie[W.notContain]==="x"?"y":"x"))):(X=G(g[0],g[1],ie[0]==="x"?"y":"x"),T.forEach(function(Ne,$){var b=$===0?1:0;Ne.push(g[$]),g[$]=Y(g[$],t,2*t<=X?te(g[$],g[b],ie[$]==="x"?"y":"x"):ie[$]==="x"?r:s)}))}else{if(be[0]&&be[1])return void(F(g[1],g[0])?T[1].push(g[1]):F(g[0],g[1])?T[0].push(g[0]):T[0].push(ie[0]==="x"?{x:g[1].x,y:g[0].y}:{x:g[0].x,y:g[1].y}));be[0]!==be[1]?(W=D(be),T[W.notContain].push(g[W.notContain]),g[W.notContain]=Y(g[W.notContain],t,G(g[W.notContain],g[W.contain],ie[W.contain])>=t?te(g[W.notContain],g[W.contain],ie[W.contain]):g[W.contain].dirId)):(Q=[{x:g[0].x,y:g[0].y},{x:g[1].x,y:g[1].y}],T.forEach(function(Ne,$){var b=$===0?1:0,Z=G(Q[$],Q[b],ie[$]);Z<t&&(g[$]=Y(g[$],t-Z)),Ne.push(g[$]),g[$]=Y(g[$],t,te(g[$],g[b],ie[b]))}))}return 1})(););T[1].reverse(),T[0].concat(T[1]).forEach(function(I,W){I={x:I.x,y:I.y},0<W&&o.push([S,I]),S=I})})()}x=[],p.position_plugOverheadSE.forEach(function(S,L){var s,r,v,T,g,V,j,Y,ee,F=!L;0<S?(s=o[r=F?0:o.length-1]).length===2?(x[r]=x[r]||Ie.apply(null,s),x[r]>Ze&&(x[r]-S<Ze&&(S=x[r]-Ze),j=it(s[0],s[1],(F?S:x[r]-S)/x[r]),o[r]=F?[j,s[1]]:[s[0],j],x[r]-=S)):(x[r]=x[r]||at.apply(null,s),x[r]>Ze&&(x[r]-S<Ze&&(S=x[r]-Ze),j=Qe(s[0],s[1],s[2],s[3],Lt(s[0],s[1],s[2],s[3],F?S:x[r]-S)),T=F?(v=s[0],j.toP1):(v=s[3],j.fromP2),g=Math.atan2(v.y-j.y,j.x-v.x),V=Ie(j,T),j.x=v.x+Math.cos(g)*S,j.y=v.y+Math.sin(g)*S*-1,T.x=j.x+Math.cos(g)*V,T.y=j.y+Math.sin(g)*V*-1,o[r]=F?[j,j.toP1,j.toP2,s[3]]:[s[0],j.fromP1,j.fromP2,j],x[r]=null)):S<0&&(s=o[r=F?0:o.length-1],j=w[L].socketId,L=-i[L][(Y=j===Re||j===Ve?"x":"y")=="x"?"width":"height"],ee=(S=S<L?L:S)*(j===Re||j===Ae?-1:1),s.length===2?s[F?0:s.length-1][Y]+=ee:(F?[0,1]:[s.length-2,s.length-1]).forEach(function(D){s[D][Y]+=ee}),x[r]=null)}),E.position_socketXYSE=ye(w),E.position_plugOverheadSE=ye(p.position_plugOverheadSE),E.position_path=p.position_path,E.position_lineStrokeWidth=p.position_lineStrokeWidth,E.position_socketGravitySE=ye(n),k=!0,e.events.apl_position&&e.events.apl_position.forEach(function(S){S(e,o)})}return k}function Je(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach(function(n){n(e,t)}))}function ke(e,t){var n,i,o,a,l,d,f,x,y,_,M,m,c,h,u,p,E,w,k,R,A,S,L,s,r,v,T,g,V,j,Y,ee,F,D,G,te,I,W,X,Q,be,ie,Ne,$={};t.line&&($.line=(x=(n=e).options,i=n.curStats,y=n.events,_=!1,_=B(n,i,"line_color",x.lineColor,y.cur_line_color)||_,_=B(n,i,"line_colorTra",et(i.line_color)[0]<1)||_,_=B(n,i,"line_strokeWidth",x.lineSize,y.cur_line_strokeWidth)||_)),(t.plug||$.line)&&($.plug=(a=(o=e).options,l=o.curStats,d=o.events,f=!1,[0,1].forEach(function(b){var Z,ne,we,oe,Te,Vt,Pt,Ye,ot=a.plugSE[b];f=B(o,l.plug_enabledSE,b,ot!==Pe)||f,f=B(o,l.plug_plugSE,b,ot)||f,f=B(o,l.plug_colorSE,b,Ye=a.plugColorSE[b]||l.line_color,d.cur_plug_colorSE)||f,f=B(o,l.plug_colorTraSE,b,et(Ye)[0]<1)||f,ot!==Pe&&(oe=ne=(Z=ut[pt[ot]]).widthR*a.plugSizeSE[b],Te=we=Z.heightR*a.plugSizeSE[b],le&&(oe*=l.line_strokeWidth,Te*=l.line_strokeWidth),f=B(o,l.plug_markerWidthSE,b,oe)||f,f=B(o,l.plug_markerHeightSE,b,Te)||f,l.capsMaskMarker_markerWidthSE[b]=ne,l.capsMaskMarker_markerHeightSE[b]=we),l.plugOutline_plugSE[b]=l.capsMaskMarker_plugSE[b]=ot,l.plug_enabledSE[b]?(Ye=l.line_strokeWidth/Ee.lineSize*a.plugSizeSE[b],l.position_plugOverheadSE[b]=Z.overhead*Ye,l.viewBox_plugBCircleSE[b]=Z.bCircle*Ye,Vt=Z.sideLen*Ye,Pt=Z.backLen*Ye):(l.position_plugOverheadSE[b]=-l.line_strokeWidth/2,l.viewBox_plugBCircleSE[b]=Vt=Pt=0),B(o,l.attach_plugSideLenSE,b,Vt,d.cur_attach_plugSideLenSE),B(o,l.attach_plugBackLenSE,b,Pt,d.cur_attach_plugBackLenSE),l.capsMaskAnchor_enabledSE[b]=!l.plug_enabledSE[b]}),f=B(o,l,"plug_enabled",l.plug_enabledSE[0]||l.plug_enabledSE[1])||f)),(t.lineOutline||$.line)&&($.lineOutline=(y=(x=e).options,_=x.curStats,L=!1,L=B(x,_,"lineOutline_enabled",y.lineOutlineEnabled)||L,L=B(x,_,"lineOutline_color",y.lineOutlineColor)||L,L=B(x,_,"lineOutline_colorTra",et(_.lineOutline_color)[0]<1)||L,y=_.line_strokeWidth*y.lineOutlineSize,L=B(x,_,"lineOutline_strokeWidth",_.line_strokeWidth-2*y)||L,L=B(x,_,"lineOutline_inStrokeWidth",_.lineOutline_colorTra?_.lineOutline_strokeWidth+2*Qt:_.line_strokeWidth-y)||L)),(t.plugOutline||$.line||$.plug||$.lineOutline)&&($.plugOutline=(m=(M=e).options,c=M.curStats,h=!1,[0,1].forEach(function(b){var Z=c.plugOutline_plugSE[b],ne=Z!==Pe?ut[pt[Z]]:null;h=B(M,c.plugOutline_enabledSE,b,m.plugOutlineEnabledSE[b]&&c.plug_enabled&&c.plug_enabledSE[b]&&!!ne&&!!ne.outlineBase)||h,h=B(M,c.plugOutline_colorSE,b,Z=m.plugOutlineColorSE[b]||c.lineOutline_color)||h,h=B(M,c.plugOutline_colorTraSE,b,et(Z)[0]<1)||h,ne&&ne.outlineBase&&((Z=m.plugOutlineSizeSE[b])>ne.outlineMax&&(Z=ne.outlineMax),Z*=2*ne.outlineBase,h=B(M,c.plugOutline_strokeWidthSE,b,Z)||h,h=B(M,c.plugOutline_inStrokeWidthSE,b,c.plugOutline_colorTraSE[b]?Z-Qt/(c.line_strokeWidth/Ee.lineSize)/m.plugSizeSE[b]*2:Z/2)||h)}),h)),(t.faces||$.line||$.plug||$.lineOutline||$.plugOutline)&&($.faces=(E=(u=e).curStats,w=u.aplStats,k=u.events,R=!1,!E.line_altColor&&B(u,w,"line_color",p=E.line_color,k.apl_line_color)&&(u.lineFace.style.stroke=p,R=!0),B(u,w,"line_strokeWidth",p=E.line_strokeWidth,k.apl_line_strokeWidth)&&(u.lineShape.style.strokeWidth=p+"px",R=!0,(qe||xe)&&(ae(u,u.lineShape),xe&&(ae(u,u.lineFace),ae(u,u.lineMaskCaps)))),B(u,w,"lineOutline_enabled",p=E.lineOutline_enabled,k.apl_lineOutline_enabled)&&(u.lineOutlineFace.style.display=p?"inline":"none",R=!0),E.lineOutline_enabled&&(B(u,w,"lineOutline_color",p=E.lineOutline_color,k.apl_lineOutline_color)&&(u.lineOutlineFace.style.stroke=p,R=!0),B(u,w,"lineOutline_strokeWidth",p=E.lineOutline_strokeWidth,k.apl_lineOutline_strokeWidth)&&(u.lineOutlineMaskShape.style.strokeWidth=p+"px",R=!0,xe&&(ae(u,u.lineOutlineMaskCaps),ae(u,u.lineOutlineFace))),B(u,w,"lineOutline_inStrokeWidth",p=E.lineOutline_inStrokeWidth,k.apl_lineOutline_inStrokeWidth)&&(u.lineMaskShape.style.strokeWidth=p+"px",R=!0,xe&&(ae(u,u.lineOutlineMaskCaps),ae(u,u.lineOutlineFace)))),B(u,w,"plug_enabled",p=E.plug_enabled,k.apl_plug_enabled)&&(u.plugsFace.style.display=p?"inline":"none",R=!0),E.plug_enabled&&[0,1].forEach(function(b){var Z=E.plug_plugSE[b],ne=Z!==Pe?ut[pt[Z]]:null,we=sn(b,ne);B(u,w.plug_enabledSE,b,p=E.plug_enabledSE[b],k.apl_plug_enabledSE)&&(u.plugsFace.style[we.prop]=p?"url(#"+u.plugMarkerIdSE[b]+")":"none",R=!0),E.plug_enabledSE[b]&&(B(u,w.plug_plugSE,b,Z,k.apl_plug_plugSE)&&(u.plugFaceSE[b].href.baseVal="#"+ne.elmId,on(u,u.plugMarkerSE[b],we.orient,ne.bBox,u.svg,u.plugMarkerShapeSE[b],u.plugsFace),R=!0,qe&&ae(u,u.plugsFace)),B(u,w.plug_colorSE,b,p=E.plug_colorSE[b],k.apl_plug_colorSE)&&(u.plugFaceSE[b].style.fill=p,R=!0,(Xe||le||xe)&&!E.line_colorTra&&ae(u,xe?u.lineMaskCaps:u.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(oe){var Te="plug_"+oe+"SE";B(u,w[Te],b,p=E[Te][b],k["apl_"+Te])&&(u.plugMarkerSE[b][oe].baseVal.value=p,R=!0)}),B(u,w.plugOutline_enabledSE,b,p=E.plugOutline_enabledSE[b],k.apl_plugOutline_enabledSE)&&(p?(u.plugFaceSE[b].style.mask="url(#"+u.plugMaskIdSE[b]+")",u.plugOutlineFaceSE[b].style.display="inline"):(u.plugFaceSE[b].style.mask="none",u.plugOutlineFaceSE[b].style.display="none"),R=!0),E.plugOutline_enabledSE[b]&&(B(u,w.plugOutline_plugSE,b,Z,k.apl_plugOutline_plugSE)&&(u.plugOutlineFaceSE[b].href.baseVal=u.plugMaskShapeSE[b].href.baseVal=u.plugOutlineMaskShapeSE[b].href.baseVal="#"+ne.elmId,[u.plugMaskSE[b],u.plugOutlineMaskSE[b]].forEach(function(oe){oe.x.baseVal.value=ne.bBox.left,oe.y.baseVal.value=ne.bBox.top,oe.width.baseVal.value=ne.bBox.width,oe.height.baseVal.value=ne.bBox.height}),R=!0),B(u,w.plugOutline_colorSE,b,p=E.plugOutline_colorSE[b],k.apl_plugOutline_colorSE)&&(u.plugOutlineFaceSE[b].style.fill=p,R=!0,xe&&(ae(u,u.lineMaskCaps),ae(u,u.lineOutlineMaskCaps))),B(u,w.plugOutline_strokeWidthSE,b,p=E.plugOutline_strokeWidthSE[b],k.apl_plugOutline_strokeWidthSE)&&(u.plugOutlineMaskShapeSE[b].style.strokeWidth=p+"px",R=!0),B(u,w.plugOutline_inStrokeWidthSE,b,p=E.plugOutline_inStrokeWidthSE[b],k.apl_plugOutline_inStrokeWidthSE)&&(u.plugMaskShapeSE[b].style.strokeWidth=p+"px",R=!0)))}),R)),(t.position||$.line||$.plug)&&($.position=Cn(e)),(t.path||$.position)&&($.path=(L=(A=e).curStats,T=A.aplStats,v=A.pathList.animVal||A.pathList.baseVal,s=L.path_edge,g=!1,v&&(s.x1=s.x2=v[0][0].x,s.y1=s.y2=v[0][0].y,L.path_pathData=S=At(v,function(b){b.x<s.x1&&(s.x1=b.x),b.y<s.y1&&(s.y1=b.y),b.x>s.x2&&(s.x2=b.x),b.y>s.y2&&(s.y2=b.y)}),mt(S,T.path_pathData)&&(A.linePath.setPathData(S),T.path_pathData=S,g=!0,xe?(ae(A,A.plugsFace),ae(A,A.lineMaskCaps)):qe&&ae(A,A.linePath),A.events.apl_path&&A.events.apl_path.forEach(function(b){b(A,S)}))),g)),$.viewBox=(v=(r=e).curStats,T=r.aplStats,g=v.path_edge,V=v.viewBox_bBox,j=T.viewBox_bBox,Y=r.svg.viewBox.baseVal,ee=r.svg.style,F=!1,T=Math.max(v.line_strokeWidth/2,v.viewBox_plugBCircleSE[0]||0,v.viewBox_plugBCircleSE[1]||0),D={x1:g.x1-T,y1:g.y1-T,x2:g.x2+T,y2:g.y2+T},r.events.new_edge4viewBox&&r.events.new_edge4viewBox.forEach(function(b){b(r,D)}),V.x=v.lineMask_x=v.lineOutlineMask_x=v.maskBGRect_x=D.x1,V.y=v.lineMask_y=v.lineOutlineMask_y=v.maskBGRect_y=D.y1,V.width=D.x2-D.x1,V.height=D.y2-D.y1,["x","y","width","height"].forEach(function(b){var Z;(Z=V[b])!==j[b]&&(Y[b]=j[b]=Z,ee[Zt[b]]=Z+(b==="x"||b==="y"?r.bodyOffset[b]:0)+"px",F=!0)}),F),$.mask=(I=(G=e).curStats,W=G.aplStats,X=!1,I.plug_enabled?[0,1].forEach(function(b){I.capsMaskMarker_enabledSE[b]=I.plug_enabledSE[b]&&I.plug_colorTraSE[b]||I.plugOutline_enabledSE[b]&&I.plugOutline_colorTraSE[b]}):I.capsMaskMarker_enabledSE[0]=I.capsMaskMarker_enabledSE[1]=!1,I.capsMaskMarker_enabled=I.capsMaskMarker_enabledSE[0]||I.capsMaskMarker_enabledSE[1],I.lineMask_outlineMode=I.lineOutline_enabled,I.caps_enabled=I.capsMaskMarker_enabled||I.capsMaskAnchor_enabledSE[0]||I.capsMaskAnchor_enabledSE[1],I.lineMask_enabled=I.caps_enabled||I.lineMask_outlineMode,(I.lineMask_enabled&&!I.lineMask_outlineMode||I.lineOutline_enabled)&&["x","y"].forEach(function(b){var Z="maskBGRect_"+b;B(G,W,Z,te=I[Z])&&(G.maskBGRect[b].baseVal.value=te,X=!0)}),B(G,W,"lineMask_enabled",te=I.lineMask_enabled)&&(G.lineFace.style.mask=te?"url(#"+G.lineMaskId+")":"none",X=!0,le&&ae(G,G.lineMask)),I.lineMask_enabled&&(B(G,W,"lineMask_outlineMode",te=I.lineMask_outlineMode)&&(te?(G.lineMaskBG.style.display="none",G.lineMaskShape.style.display="inline"):(G.lineMaskBG.style.display="inline",G.lineMaskShape.style.display="none"),X=!0),["x","y"].forEach(function(b){var Z="lineMask_"+b;B(G,W,Z,te=I[Z])&&(G.lineMask[b].baseVal.value=te,X=!0)}),B(G,W,"caps_enabled",te=I.caps_enabled)&&(G.lineMaskCaps.style.display=G.lineOutlineMaskCaps.style.display=te?"inline":"none",X=!0,le&&ae(G,G.capsMaskLine)),I.caps_enabled&&([0,1].forEach(function(b){var Z;B(G,W.capsMaskAnchor_enabledSE,b,te=I.capsMaskAnchor_enabledSE[b])&&(G.capsMaskAnchorSE[b].style.display=te?"inline":"none",X=!0,le&&ae(G,G.lineMask)),I.capsMaskAnchor_enabledSE[b]&&(mt(Z=I.capsMaskAnchor_pathDataSE[b],W.capsMaskAnchor_pathDataSE[b])&&(G.capsMaskAnchorSE[b].setPathData(Z),W.capsMaskAnchor_pathDataSE[b]=Z,X=!0),B(G,W.capsMaskAnchor_strokeWidthSE,b,te=I.capsMaskAnchor_strokeWidthSE[b])&&(G.capsMaskAnchorSE[b].style.strokeWidth=te+"px",X=!0))}),B(G,W,"capsMaskMarker_enabled",te=I.capsMaskMarker_enabled)&&(G.capsMaskLine.style.display=te?"inline":"none",X=!0),I.capsMaskMarker_enabled&&[0,1].forEach(function(b){var Z=I.capsMaskMarker_plugSE[b],ne=Z!==Pe?ut[pt[Z]]:null,we=sn(b,ne);B(G,W.capsMaskMarker_enabledSE,b,te=I.capsMaskMarker_enabledSE[b])&&(G.capsMaskLine.style[we.prop]=te?"url(#"+G.lineMaskMarkerIdSE[b]+")":"none",X=!0),I.capsMaskMarker_enabledSE[b]&&(B(G,W.capsMaskMarker_plugSE,b,Z)&&(G.capsMaskMarkerShapeSE[b].href.baseVal="#"+ne.elmId,on(G,G.capsMaskMarkerSE[b],we.orient,ne.bBox,G.svg,G.capsMaskMarkerShapeSE[b],G.capsMaskLine),X=!0,qe&&(ae(G,G.capsMaskLine),ae(G,G.lineFace))),["markerWidth","markerHeight"].forEach(function(oe){var Te="capsMaskMarker_"+oe+"SE";B(G,W[Te],b,te=I[Te][b])&&(G.capsMaskMarkerSE[b][oe].baseVal.value=te,X=!0)}))}))),I.lineOutline_enabled&&["x","y"].forEach(function(b){var Z="lineOutlineMask_"+b;B(G,W,Z,te=I[Z])&&(G.lineOutlineMask[b].baseVal.value=te,X=!0)}),X),t.effect&&(ie=(Q=e).curStats,Ne=Q.aplStats,Object.keys(O).forEach(function(oe){var Z=O[oe],ne=oe+"_enabled",we=oe+"_options",oe=ie[we];B(Q,Ne,ne,be=ie[ne])?(be&&(Ne[we]=ye(oe)),Z[be?"init":"remove"](Q)):be&&Ue(oe,Ne[we])&&(Z.remove(Q),Ne[ne]=!0,Ne[we]=ye(oe),Z.init(Q))})),(Xe||le)&&$.line&&!$.path&&ae(e,e.lineShape),Xe&&$.plug&&!$.line&&ae(e,e.plugsFace),an(e)}function gt(e,t){return{duration:(ve(e.duration)&&0<e.duration?e:t).duration,timing:pe.validTiming(e.timing)?e.timing:ye(t.timing)}}function yt(e,t,n,i){var o=e.curStats,a=e.aplStats,l={};function d(){["show_on","show_effect","show_animOptions"].forEach(function(f){a[f]=o[f]})}o.show_on=t,n&&P[n]&&(o.show_effect=n,o.show_animOptions=gt(Ge(i)?i:{},P[n].defaultAnimOptions)),l.show_on=o.show_on!==a.show_on,l.show_effect=o.show_effect!==a.show_effect,l.show_animOptions=Ue(o.show_animOptions,a.show_animOptions),l.show_effect||l.show_animOptions?o.show_inAnim?(n=l.show_effect?P[a.show_effect].stop(e,!0,!0):P[a.show_effect].stop(e),d(),P[a.show_effect].init(e,n)):l.show_on&&(a.show_effect&&l.show_effect&&P[a.show_effect].stop(e,!0,!0),d(),P[a.show_effect].init(e)):l.show_on&&(d(),P[a.show_effect].start(e))}function un(e,t,n){return n={props:e,optionName:n},e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,n))&&(e.attachments.push(t),t.boundTargets.push(n),1)}function St(e,t,n){var i=e.attachments.indexOf(t);-1<i&&e.attachments.splice(i,1),t.boundTargets.some(function(o,a){return o.props===e&&(t.conf.unbind&&t.conf.unbind(t,o),i=a,!0)})&&(t.boundTargets.splice(i,1),n||Ke(function(){t.boundTargets.length||se(t)}))}function _t(e,t){var n,i,o,a,l,d,f,x,y,_,M,m,c,h,u,p=e.options,E={};function w(s,r,v,T,g){var V={};return v?T!=null?(V.container=s[v],V.key=T):(V.container=s,V.key=v):(V.container=s,V.key=r),V.default=g,V.acceptsAuto=V.default==null,V}function k(s,r,v,T,g,V,D){var Y,ee,F,D=w(s,v,g,V,D);return r[v]!=null&&(ee=(r[v]+"").toLowerCase())&&(D.acceptsAuto&&ee===He||(F=T[ee]))&&F!==D.container[D.key]&&(D.container[D.key]=F,Y=!0),D.container[D.key]!=null||D.acceptsAuto||(D.container[D.key]=D.default,Y=!0),Y}function R(s,r,v,T,g,V,I,Y,ee){var F,D,G,te,I=w(s,v,g,V,I);if(!T){if(I.default==null)throw new Error("Invalid `type`: "+v);T=typeof I.default}return r[v]!=null&&(I.acceptsAuto&&(r[v]+"").toLowerCase()===He||(G=D=r[v],((te=T)==="number"?ve(G):typeof G===te)&&(D=ee&&T==="string"&&D?D.trim():D,1)&&(!Y||Y(D))))&&D!==I.container[I.key]&&(I.container[I.key]=D,F=!0),I.container[I.key]!=null||I.acceptsAuto||(I.container[I.key]=I.default,F=!0),F}if(t=t||{},["start","end"].forEach(function(s,r){var v=t[s],T=!1;if(v&&(tt(v)||(T=q(v,"anchor")))&&v!==p.anchorSE[r]){if(e.optionIsAttach.anchorSE[r]!==!1&&St(e,de[p.anchorSE[r]._id]),T&&!un(e,de[v._id],s))throw new Error("Can't bind attachment");p.anchorSE[r]=v,e.optionIsAttach.anchorSE[r]=T,n=E.position=!0}}),!p.anchorSE[0]||!p.anchorSE[1]||p.anchorSE[0]===p.anchorSE[1])throw new Error("`start` and `end` are required.");function A(s){var r=l.appendChild(h.createElementNS(U,"mask"));return r.id=s,r.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[r.x,r.y,r.width,r.height].forEach(function(v){v.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),r}function S(s){var r=l.appendChild(h.createElementNS(U,"marker"));return r.id=s,r.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,r.viewBox.baseVal||r.setAttribute("viewBox","0 0 0 0"),r}function L(s){return[s.width,s.height].forEach(function(r){r.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),s}n&&(M=(function(s,r){var v,T;if(!(s=It(s))||!(v=It(r)))throw new Error("Cannot get frames.");return s.length&&v.length&&(s.reverse(),v.reverse(),s.some(function(g){return v.some(function(V){return V===g&&(T=V.contentWindow,!0)})})),T||window})(e.optionIsAttach.anchorSE[0]!==!1?de[p.anchorSE[0]._id].element:p.anchorSE[0],e.optionIsAttach.anchorSE[1]!==!1?de[p.anchorSE[1]._id].element:p.anchorSE[1]))!==e.baseWindow&&(o=M,c=(i=e).aplStats,h=o.document,u=ce+"-"+i._id,i.pathList={},fe(c,Mt),Object.keys(O).forEach(function(s){var r=s+"_enabled";c[r]&&(O[s].remove(i),c[r]=!1)}),i.baseWindow&&i.svg&&i.baseWindow.document.body.removeChild(i.svg),ln(i.baseWindow=o),i.bodyOffset=rn(o),i.svg=a=h.createElementNS(U,"svg"),a.className.baseVal=ce,a.viewBox.baseVal||a.setAttribute("viewBox","0 0 0 0"),i.defs=l=a.appendChild(h.createElementNS(U,"defs")),i.linePath=f=l.appendChild(h.createElementNS(U,"path")),f.id=x=u+"-line-path",f.className.baseVal=ce+"-line-path",le&&(f.style.fill="none"),i.lineShape=f=l.appendChild(h.createElementNS(U,"use")),f.id=y=u+"-line-shape",f.href.baseVal="#"+x,(d=l.appendChild(h.createElementNS(U,"g"))).id=_=u+"-caps",i.capsMaskAnchorSE=[0,1].map(function(){var s=d.appendChild(h.createElementNS(U,"path"));return s.className.baseVal=ce+"-caps-mask-anchor",s}),i.lineMaskMarkerIdSE=[u+"-caps-mask-marker-0",u+"-caps-mask-marker-1"],i.capsMaskMarkerSE=[0,1].map(function(s){return S(i.lineMaskMarkerIdSE[s])}),i.capsMaskMarkerShapeSE=[0,1].map(function(s){return s=i.capsMaskMarkerSE[s].appendChild(h.createElementNS(U,"use")),s.className.baseVal=ce+"-caps-mask-marker-shape",s}),i.capsMaskLine=f=d.appendChild(h.createElementNS(U,"use")),f.className.baseVal=ce+"-caps-mask-line",f.href.baseVal="#"+y,i.maskBGRect=f=L(l.appendChild(h.createElementNS(U,"rect"))),f.id=M=u+"-mask-bg-rect",f.className.baseVal=ce+"-mask-bg-rect",le&&(f.style.fill="white"),i.lineMask=L(A(i.lineMaskId=u+"-line-mask")),i.lineMaskBG=f=i.lineMask.appendChild(h.createElementNS(U,"use")),f.href.baseVal="#"+M,i.lineMaskShape=f=i.lineMask.appendChild(h.createElementNS(U,"use")),f.className.baseVal=ce+"-line-mask-shape",f.href.baseVal="#"+x,f.style.display="none",i.lineMaskCaps=f=i.lineMask.appendChild(h.createElementNS(U,"use")),f.href.baseVal="#"+_,i.lineOutlineMask=L(A(o=u+"-line-outline-mask")),(f=i.lineOutlineMask.appendChild(h.createElementNS(U,"use"))).href.baseVal="#"+M,i.lineOutlineMaskShape=f=i.lineOutlineMask.appendChild(h.createElementNS(U,"use")),f.className.baseVal=ce+"-line-outline-mask-shape",f.href.baseVal="#"+x,i.lineOutlineMaskCaps=f=i.lineOutlineMask.appendChild(h.createElementNS(U,"use")),f.href.baseVal="#"+_,i.face=a.appendChild(h.createElementNS(U,"g")),i.lineFace=f=i.face.appendChild(h.createElementNS(U,"use")),f.href.baseVal="#"+y,i.lineOutlineFace=f=i.face.appendChild(h.createElementNS(U,"use")),f.href.baseVal="#"+y,f.style.mask="url(#"+o+")",f.style.display="none",i.plugMaskIdSE=[u+"-plug-mask-0",u+"-plug-mask-1"],i.plugMaskSE=[0,1].map(function(s){return A(i.plugMaskIdSE[s])}),i.plugMaskShapeSE=[0,1].map(function(s){return s=i.plugMaskSE[s].appendChild(h.createElementNS(U,"use")),s.className.baseVal=ce+"-plug-mask-shape",s}),m=[],i.plugOutlineMaskSE=[0,1].map(function(s){return A(m[s]=u+"-plug-outline-mask-"+s)}),i.plugOutlineMaskShapeSE=[0,1].map(function(s){return s=i.plugOutlineMaskSE[s].appendChild(h.createElementNS(U,"use")),s.className.baseVal=ce+"-plug-outline-mask-shape",s}),i.plugMarkerIdSE=[u+"-plug-marker-0",u+"-plug-marker-1"],i.plugMarkerSE=[0,1].map(function(s){return s=S(i.plugMarkerIdSE[s]),le&&(s.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),s}),i.plugMarkerShapeSE=[0,1].map(function(s){return i.plugMarkerSE[s].appendChild(h.createElementNS(U,"g"))}),i.plugFaceSE=[0,1].map(function(s){return i.plugMarkerShapeSE[s].appendChild(h.createElementNS(U,"use"))}),i.plugOutlineFaceSE=[0,1].map(function(s){var r=i.plugMarkerShapeSE[s].appendChild(h.createElementNS(U,"use"));return r.style.mask="url(#"+m[s]+")",r.style.display="none",r}),i.plugsFace=f=i.face.appendChild(h.createElementNS(U,"use")),f.className.baseVal=ce+"-plugs-face",f.href.baseVal="#"+y,f.style.display="none",i.curStats.show_inAnim?(i.isShown=1,P[c.show_effect].stop(i,!0)):i.isShown||(a.style.visibility="hidden"),h.body.appendChild(a),[0,1,2].forEach(function(v){var r,v=i.options.labelSEM[v];v&&q(v,"label")&&(r=de[v._id]).conf.initSvg&&r.conf.initSvg(r,i)}),E.line=E.plug=E.lineOutline=E.plugOutline=E.faces=E.effect=!0),E.position=k(p,t,"path",Yt,null,null,Ee.path)||E.position,E.position=k(p,t,"startSocket",lt,"socketSE",0)||E.position,E.position=k(p,t,"endSocket",lt,"socketSE",1)||E.position,[t.startSocketGravity,t.endSocketGravity].forEach(function(s,r){var v,T,g=!1;s!=null&&(Array.isArray(s)?ve(s[0])&&ve(s[1])&&(g=[s[0],s[1]],Array.isArray(p.socketGravitySE[r])&&(v=g,T=p.socketGravitySE[r],v.length===T.length&&v.every(function(V,j){return V===T[j]}))&&(g=!1)):((s+"").toLowerCase()===He?g=null:ve(s)&&0<=s&&(g=s),g===p.socketGravitySE[r]&&(g=!1)),g!==!1&&(p.socketGravitySE[r]=g,E.position=!0))}),E.line=R(p,t,"color",null,"lineColor",null,Ee.lineColor,null,!0)||E.line,E.line=R(p,t,"size",null,"lineSize",null,Ee.lineSize,function(s){return 0<s})||E.line,["startPlug","endPlug"].forEach(function(s,r){E.plug=k(p,t,s,ht,"plugSE",r,Ee.plugSE[r])||E.plug,E.plug=R(p,t,s+"Color","string","plugColorSE",r,null,null,!0)||E.plug,E.plug=R(p,t,s+"Size",null,"plugSizeSE",r,Ee.plugSizeSE[r],function(v){return 0<v})||E.plug}),E.lineOutline=R(p,t,"outline",null,"lineOutlineEnabled",null,Ee.lineOutlineEnabled)||E.lineOutline,E.lineOutline=R(p,t,"outlineColor",null,"lineOutlineColor",null,Ee.lineOutlineColor,null,!0)||E.lineOutline,E.lineOutline=R(p,t,"outlineSize",null,"lineOutlineSize",null,Ee.lineOutlineSize,function(s){return 0<s&&s<=.48})||E.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(s,r){E.plugOutline=R(p,t,s,null,"plugOutlineEnabledSE",r,Ee.plugOutlineEnabledSE[r])||E.plugOutline,E.plugOutline=R(p,t,s+"Color","string","plugOutlineColorSE",r,null,null,!0)||E.plugOutline,E.plugOutline=R(p,t,s+"Size",null,"plugOutlineSizeSE",r,Ee.plugOutlineSizeSE[r],function(v){return 1<=v})||E.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(s,r){var v,T,g,V=t[s],j=p.labelSEM[r]&&!e.optionIsAttach.labelSEM[r]?de[p.labelSEM[r]._id].text:p.labelSEM[r],Y=!1;if((v=typeof V=="string")&&(V=V.trim()),(v||V&&(Y=q(V,"label")))&&V!==j){if(p.labelSEM[r]&&(St(e,de[p.labelSEM[r]._id]),p.labelSEM[r]=""),V){if(Y?(T=de[(g=V)._id]).boundTargets.slice().forEach(function(ee){T.conf.removeOption(T,ee)}):g=new z(C.captionLabel,[V]),!un(e,de[g._id],s))throw new Error("Can't bind attachment");p.labelSEM[r]=g}e.optionIsAttach.labelSEM[r]=Y}}),Object.keys(O).forEach(function(s){var r,v,T=O[s],g=s+"_enabled",V=s+"_options";function j(ee){var F={};return T.optionsConf.forEach(function(D){var G=D[0],te=D[3];D[4]==null||F[te]||(F[te]=[]),(typeof G=="function"?G:G==="id"?k:R).apply(null,[F,ee].concat(D.slice(1)))}),F}function Y(ee){var F,D=s+"_animOptions";return ee.hasOwnProperty("animation")?Ge(ee.animation)?F=e.curStats[D]=gt(ee.animation,T.defaultAnimOptions):(F=!!ee.animation,e.curStats[D]=F?gt({},T.defaultAnimOptions):null):(F=!!T.defaultEnabled,e.curStats[D]=F?gt({},T.defaultAnimOptions):null),F}t.hasOwnProperty(s)&&(r=t[s],Ge(r)?(e.curStats[g]=!0,v=e.curStats[V]=j(r),T.anim&&(e.curStats[V].animation=Y(r))):(v=e.curStats[g]=!!r)&&(e.curStats[V]=j({}),T.anim&&(e.curStats[V].animation=Y({}))),Ue(v,p[s])&&(p[s]=v,E.effect=!0))}),ke(e,E)}function Se(e,t,n){var i={options:{ee:e.ee,anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};fe(i.curStats,Mt),fe(i.aplStats,Mt),Object.keys(O).forEach(function(o){var a=O[o].stats;fe(i.curStats,a),fe(i.aplStats,a),i.options[o]=!1}),fe(i.curStats,Kt),fe(i.aplStats,Kt),i.curStats.show_effect=Jt,i.curStats.show_animOptions=ye(P[Jt].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++On}),i._id=this._id,me[this._id]=i,arguments.length===1&&(n=e,e=null),n=n||{},(e||t)&&(n=ye(n),e&&(n.start=e),t&&(n.end=t)),i.isShown=i.aplStats.show_on=!n.hide;try{this.setOptions(n)}catch{}}function vt(e){return function(t){var n={};n[e]=t,this.setOptions(n)}}function hn(e,t){var n,i={conf:e,curStats:{},aplStats:{},boundTargets:[]},o={};e.argOptions.every(function(a){return!(!t.length||(typeof a.type=="string"?typeof t[0]!==a.type:typeof a.type!="function"||!a.type(t[0])))&&(o[a.optionName]=t.shift(),!0)}),n=t.length&&Ge(t[0])?ye(t[0]):{},Object.keys(o).forEach(function(a){n[a]=o[a]}),e.stats&&(fe(i.curStats,e.stats),fe(i.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++Mn}),Object.defineProperty(this,"isRemoved",{get:function(){return!de[this._id]}}),i._id=this._id,e.init&&!e.init(i,n)||(de[this._id]=i)}return O={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){ue(e,"apl_line_strokeWidth",O.dash.update),e.lineFace.style.strokeDashoffset=0,O.dash.update(e)},remove:function(e){var t=e.curStats;he(e,"apl_line_strokeWidth",O.dash.update),t.dash_animId&&(pe.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,fe(e.aplStats,O.dash.stats)},update:function(e){var t,n=e.curStats,i=e.aplStats,o=i.dash_options,a=!1;n.dash_len=o.len||2*i.line_strokeWidth,n.dash_gap=o.gap||i.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,a=B(e,i,"dash_len",n.dash_len)||a,(a=B(e,i,"dash_gap",n.dash_gap)||a)&&(e.lineFace.style.strokeDasharray=i.dash_len+","+i.dash_gap),n.dash_animOptions?(a=B(e,i,"dash_maxOffset",n.dash_maxOffset),i.dash_animOptions&&(a||Ue(n.dash_animOptions,i.dash_animOptions))&&(n.dash_animId&&(t=pe.stop(n.dash_animId),pe.remove(n.dash_animId)),i.dash_animOptions=null),i.dash_animOptions||(n.dash_animId=pe.add(function(l){return(1-l)*i.dash_maxOffset+"px"},function(l){e.lineFace.style.strokeDashoffset=l},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),i.dash_animOptions=ye(n.dash_animOptions))):i.dash_animOptions&&(n.dash_animId&&(pe.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,i.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var t=e.baseWindow.document,n=e.defs,i=ce+"-"+e._id+"-gradient";e.efc_gradient_gradient=n=n.appendChild(t.createElementNS(U,"linearGradient")),n.id=i,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(o){o.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(o){var a=e.efc_gradient_gradient.appendChild(t.createElementNS(U,"stop"));try{a.offset.baseVal=o}catch(l){if(l.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw l;a.setAttribute("offset",o)}return a}),ue(e,"cur_plug_colorSE",O.gradient.update),ue(e,"apl_path",O.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+i+")",O.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),he(e,"cur_plug_colorSE",O.gradient.update),he(e,"apl_path",O.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,fe(e.aplStats,O.gradient.stats)},update:function(e){var t,n=e.curStats,i=e.aplStats,o=i.gradient_options,a=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach(function(l){n.gradient_colorSE[l]=o.colorSE[l]||n.plug_colorSE[l]}),t=a[0][0],n.gradient_pointSE[0]={x:t.x,y:t.y},t=(a=a[a.length-1])[a.length-1],n.gradient_pointSE[1]={x:t.x,y:t.y},[0,1].forEach(function(l){var d;B(e,i.gradient_colorSE,l,d=n.gradient_colorSE[l])&&(le?(d=et(d),e.efc_gradient_stopSE[l].style.stopColor=d[1],e.efc_gradient_stopSE[l].style.stopOpacity=d[0]):e.efc_gradient_stopSE[l].style.stopColor=d),["x","y"].forEach(function(f){(d=n.gradient_pointSE[l][f])!==i.gradient_pointSE[l][f]&&(e.efc_gradient_gradient[f+(l+1)].baseVal.value=i.gradient_pointSE[l][f]=d)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(e){var t,n,i,o,a=e.baseWindow.document,l=e.defs,d=ce+"-"+e._id+"-dropShadow",f=(t=a,n=d,o={},typeof De!="boolean"&&(De=!!window.SVGFEDropShadowElement&&!le),o.elmsAppend=[o.elmFilter=a=t.createElementNS(U,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=n,De?(o.elmOffset=o.elmBlur=i=a.appendChild(t.createElementNS(U,"feDropShadow")),o.styleFlood=i.style):(o.elmBlur=a.appendChild(t.createElementNS(U,"feGaussianBlur")),o.elmOffset=i=a.appendChild(t.createElementNS(U,"feOffset")),i.result.baseVal="offsetblur",i=a.appendChild(t.createElementNS(U,"feFlood")),o.styleFlood=i.style,(i=a.appendChild(t.createElementNS(U,"feComposite"))).in2.baseVal="offsetblur",i.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(i=a.appendChild(t.createElementNS(U,"feMerge"))).appendChild(t.createElementNS(U,"feMergeNode")),i.appendChild(t.createElementNS(U,"feMergeNode")).in1.baseVal="SourceGraphic"),o);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(x){e["efc_dropShadow_"+x]=f[x]}),f.elmsAppend.forEach(function(x){l.appendChild(x)}),e.face.setAttribute("filter","url(#"+d+")"),ue(e,"new_edge4viewBox",O.dropShadow.adjustEdge),O.dropShadow.update(e)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(n){t.removeChild(n)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),he(e,"new_edge4viewBox",O.dropShadow.adjustEdge),ke(e,{}),e.face.removeAttribute("filter"),fe(e.aplStats,O.dropShadow.stats)},update:function(e){var t,n,i=e.curStats,o=e.aplStats,a=o.dropShadow_options;i.dropShadow_dx=t=a.dx,B(e,o,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),i.dropShadow_dy=t=a.dy,B(e,o,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),i.dropShadow_blur=t=a.blur,B(e,o,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&ke(e,{}),i.dropShadow_color=t=a.color,B(e,o,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),i.dropShadow_opacity=t=a.opacity,B(e,o,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,i=e.curStats,o=e.aplStats;i.dropShadow_dx!=null&&(n=3*i.dropShadow_blur,(n={x1:t.x1-n+i.dropShadow_dx,y1:t.y1-n+i.dropShadow_dy,x2:t.x2+n+i.dropShadow_dx,y2:t.y2+n+i.dropShadow_dy}).x1<t.x1&&(t.x1=n.x1),n.y1<t.y1&&(t.y1=n.y1),n.x2>t.x2&&(t.x2=n.x2),n.y2>t.y2&&(t.y2=n.y2),["x","y"].forEach(function(a){var l,d="dropShadow_"+a;i[d]=l=t[a+"1"],B(e,o,d,l)&&(e.efc_dropShadow_elmFilter[a].baseVal.value=l)}))}}},Object.keys(O).forEach(function(e){var t=O[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),P={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(pe.remove(n.show_animId),n.show_animId=null),P.none.start(e,t)},start:function(e,t){P.none.stop(e,!0)},stop:function(e,t,n){var i=e.curStats;return n=n??e.aplStats.show_on,i.show_inAnim=!1,t&&Je(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,t){var n=e.curStats,i=e.aplStats;n.show_animId&&pe.remove(n.show_animId),n.show_animId=pe.add(function(o){return o},function(o,a){a?P.fade.stop(e,!0):(e.svg.style.opacity=o+"",xe&&(ae(e,e.svg),an(e)))},i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),P.fade.start(e,t)},start:function(e,t){var n,i=e.curStats;i.show_inAnim&&(n=pe.stop(i.show_animId)),Je(e,1),i.show_inAnim=!0,pe.start(i.show_animId,!e.aplStats.show_on,t??n)},stop:function(e,t,n){var i,o=e.curStats;return n=n??e.aplStats.show_on,i=o.show_inAnim?pe.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Je(e,n)),i}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,t){var n=e.curStats,i=e.aplStats,o=e.pathList.baseVal,a=nn(o),l=a.segsLen,d=a.lenAll;n.show_animId&&pe.remove(n.show_animId),n.show_animId=pe.add(function(f){var x,y,_,M=-1;if(f===0)y=[[o[0][0],o[0][0]]];else if(f===1)y=o;else{for(x=d*f,y=[];x>=l[++M];)y.push(o[M]),x-=l[M];x&&((_=o[M]).length===2?y.push([_[0],it(_[0],_[1],x/l[M])]):(f=Qe(_[0],_[1],_[2],_[3],Lt(_[0],_[1],_[2],_[3],x)),y.push([_[0],f.fromP1,f.fromP2,f])))}return y},function(f,x){x?P.draw.stop(e,!0):(e.pathList.animVal=f,ke(e,{path:!0}))},i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),P.draw.start(e,t)},start:function(e,t){var n,i=e.curStats;i.show_inAnim&&(n=pe.stop(i.show_animId)),Je(e,1),i.show_inAnim=!0,ue(e,"apl_position",P.draw.update),pe.start(i.show_animId,!e.aplStats.show_on,t??n)},stop:function(e,t,n){var i,o=e.curStats;return n=n??e.aplStats.show_on,i=o.show_inAnim?pe.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],ke(e,{path:!0}),Je(e,n)),i},update:function(e){he(e,"apl_position",P.draw.update),e.curStats.show_inAnim?P.draw.init(e,P.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var t=e[0],n=e[1],i=e[2];Object.defineProperty(Se.prototype,t,{get:function(){var o=i!=null?me[this._id].options[n][i]:n?me[this._id].options[n]:me[this._id].options[t];return o==null?He:ye(o)},set:vt(t),enumerable:!0})}),[["path",Yt],["startSocket",lt,"socketSE",0],["endSocket",lt,"socketSE",1],["startPlug",ht,"plugSE",0],["endPlug",ht,"plugSE",1]].forEach(function(e){var t=e[0],n=e[1],i=e[2],o=e[3];Object.defineProperty(Se.prototype,t,{get:function(){var a,l=o!=null?me[this._id].options[i][o]:i?me[this._id].options[i]:me[this._id].options[t];return l?Object.keys(n).some(function(d){return n[d]===l&&(a=d,!0)})?a:new Error("It's broken"):He},set:vt(t),enumerable:!0})}),Object.keys(O).forEach(function(e){var t=O[e];Object.defineProperty(Se.prototype,e,{get:function(){var n,i,o=me[this._id].options[e];return Ge(o)?(n=o,i=t.optionsConf.reduce(function(a,M){var d,f=M[0],x=M[1],y=M[2],_=M[3],M=M[4],m=M!=null?n[_][M]:_?n[_]:n[x];return a[x]=f==="id"?m?Object.keys(y).some(function(c){return y[c]===m&&(d=c,!0)})?d:new Error("It's broken"):He:m==null?He:ye(m),a},{}),t.anim&&(i.animation=ye(n.animation)),i):o},set:vt(e),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){Object.defineProperty(Se.prototype,e,{get:function(){var n=me[this._id],i=n.options;return i.labelSEM[t]&&!n.optionIsAttach.labelSEM[t]?de[i.labelSEM[t]._id].text:i.labelSEM[t]||""},set:vt(e),enumerable:!0})}),Se.prototype.setOptions=function(e){return _t(me[this._id],e),this},Se.prototype.position=function(){return ke(me[this._id],{position:!0}),this},Se.prototype.remove=function(){var e=me[this._id],t=e.curStats;Object.keys(O).forEach(function(n){n+="_animId",t[n]&&pe.remove(t[n])}),t.show_animId&&pe.remove(t.show_animId),e.attachments.slice().forEach(function(n){St(e,n)}),e.baseWindow&&e.svg&&e.baseWindow.document.body.removeChild(e.svg),delete me[this._id]},Se.prototype.show=function(e,t){return yt(me[this._id],!0,e,t),this},Se.prototype.hide=function(e,t){return yt(me[this._id],!1,e,t),this},se=function(e){e&&de[e._id]&&(e.boundTargets.slice().forEach(function(t){St(t.props,e,!0)}),e.conf.remove&&e.conf.remove(e),delete de[e._id])},hn.prototype.remove=function(){var e=this,t=de[e._id];t&&(t.boundTargets.slice().forEach(function(n){t.conf.removeOption(t,n)}),Ke(function(){var n=de[e._id];n&&(console.error("LeaderLineAttachment was not removed by removeOption"),se(n))}))},z=hn,window.LeaderLineAttachment=z,q=function(e,t){return e instanceof z&&(!(e.isRemoved||t&&de[e._id].conf.type!==t)||null)},C={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:tt}],init:function(e,t){return e.element=C.pointAnchor.checkElement(t.element),e.x=C.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=C.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(a,t){var n=t.props,i={},o=a.element,a=n.options.anchorSE[t.optionName==="start"?1:0];o===a&&(o=a===document.body?new z(C.pointAnchor,[o]):document.body),i[t.optionName]=o,_t(n,i)},getBBoxNest:function(e,o){var n=nt(e.element,o.baseWindow),i=n.width,o=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?i:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?o:1),n},parsePercent:function(e,t){var n,i,o=!1;return ve(e)?i=e:typeof e=="string"&&(n=$t.exec(e))&&n[2]&&(o=(i=parseFloat(n[1])/100)!==0),i!=null&&(t||0<=i)?[i,o]:null},checkElement:function(e){if(e==null)e=document.body;else if(!tt(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:tt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var n,i=[];return e.element=C.pointAnchor.checkElement(t.element),typeof t.color=="string"&&(e.color=t.color.trim()),typeof t.fillColor=="string"&&(e.fill=t.fillColor.trim()),ve(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,ve(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),ve(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),t.shape==="circle"?e.shape=t.shape:t.shape==="polygon"&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every(function(o){var a={};return!(!(a.x=C.pointAnchor.parsePercent(o[0],!0))||!(a.y=C.pointAnchor.parsePercent(o[1],!0)))&&(i.push(a),(a.x[1]||a.y[1])&&(e.hasRatio=!0),!0)})?(e.shape=t.shape,e.points=i):(e.shape="rect",e.radius=ve(t.radius)&&0<=t.radius?t.radius:0),e.shape!=="rect"&&e.shape!=="circle"||(e.x=C.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=C.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=C.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=C.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),n=e.element.ownerDocument,e.svg=t=n.createElementNS(U,"svg"),t.className.baseVal=ce+"-areaAnchor",t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),e.path=t.appendChild(n.createElementNS(U,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,t.style.visibility="hidden",n.body.appendChild(t),ln(n=n.defaultView),e.bodyOffset=rn(n),e.updateColor=function(){var o=e.curStats,a=e.aplStats,l=e.boundTargets.length?e.boundTargets[0].props.curStats:null;o.color=l=e.color||(l?l.line_color:Ee.lineColor),B(e,a,"color",l)&&(e.path.style.stroke=l)},e.updateShow=function(){Je(e,e.boundTargets.some(function(o){return o.props.isShown===!0}))},!0},bind:function(e,t){return t=t.props,e.color||ue(t,"cur_line_color",e.updateColor),ue(t,"svgShow",e.updateShow),Ke(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){t=t.props,e.color||he(t,"cur_line_color",e.updateColor),he(t,"svgShow",e.updateShow),1<e.boundTargets.length&&Ke(function(){e.updateColor(),e.updateShow(),C.areaAnchor.update(e)&&e.boundTargets.forEach(function(n){ke(n.props,{position:!0})})})},removeOption:function(e,t){C.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){C.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return C.areaAnchor.update(e)&&1<e.boundTargets.length&&Ke(function(){e.boundTargets.forEach(function(n){n.props!==t&&ke(n.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=nt(e.element,t.baseWindow);return At(e.curStats.pathListRel,function(i){i.x+=n.left,i.y+=n.top})},getBBoxNest:function(e,t){return t=nt(e.element,t.baseWindow),e=e.curStats.bBoxRel,{left:e.left+t.left,top:e.top+t.top,right:e.right+t.left,bottom:e.bottom+t.top,width:e.width,height:e.height}},update:function(e){var t,n,i,o,a,l,d,f,x,y,_,M,m,c,h,u,p=e.curStats,E=e.aplStats,w=e.boundTargets.length?e.boundTargets[0].props.curStats:null,k={};if(k.strokeWidth=B(e,p,"strokeWidth",e.size!=null?e.size:w?w.line_strokeWidth:Ee.lineSize),t=dt(e.element),k.elementWidth=B(e,p,"elementWidth",t.width),k.elementHeight=B(e,p,"elementHeight",t.height),k.elementLeft=B(e,p,"elementLeft",t.left),k.elementTop=B(e,p,"elementTop",t.top),k.strokeWidth||e.hasRatio&&(k.elementWidth||k.elementHeight)){switch(e.shape){case"rect":(M={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=M.left+M.width,M.bottom=M.top+M.height,_=p.strokeWidth/2,f=(d=Math.min(M.width,M.height))?d/2*Math.SQRT2+_:0,y=(d=e.radius?e.radius<=f?e.radius:f:0)?(f=(d-_)/Math.SQRT2,y=[{x:M.left-(x=d-f),y:M.top+f},{x:M.left+f,y:M.top-x},{x:M.right-f,y:M.top-x},{x:M.right+x,y:M.top+f},{x:M.right+x,y:M.bottom-f},{x:M.right-f,y:M.bottom+x},{x:M.left+f,y:M.bottom+x},{x:M.left-x,y:M.bottom-f}],p.pathListRel=[[y[0],{x:y[0].x,y:y[0].y-(_=d*ct)},{x:y[1].x-_,y:y[1].y},y[1]]],y[1].x!==y[2].x&&p.pathListRel.push([y[1],y[2]]),p.pathListRel.push([y[2],{x:y[2].x+_,y:y[2].y},{x:y[3].x,y:y[3].y-_},y[3]]),y[3].y!==y[4].y&&p.pathListRel.push([y[3],y[4]]),p.pathListRel.push([y[4],{x:y[4].x,y:y[4].y+_},{x:y[5].x+_,y:y[5].y},y[5]]),y[5].x!==y[6].x&&p.pathListRel.push([y[5],y[6]]),p.pathListRel.push([y[6],{x:y[6].x-_,y:y[6].y},{x:y[7].x,y:y[7].y+_},y[7]]),y[7].y!==y[0].y&&p.pathListRel.push([y[7],y[0]]),p.pathListRel.push([]),x=d-f+p.strokeWidth/2,[{x:M.left-x,y:M.top-x},{x:M.right+x,y:M.bottom+x}]):(x=p.strokeWidth/2,y=[{x:M.left-x,y:M.top-x},{x:M.right+x,y:M.bottom+x}],p.pathListRel=[[y[0],{x:y[1].x,y:y[0].y}],[{x:y[1].x,y:y[0].y},y[1]],[y[1],{x:y[0].x,y:y[1].y}],[]],[{x:M.left-p.strokeWidth,y:M.top-p.strokeWidth},{x:M.right+p.strokeWidth,y:M.bottom+p.strokeWidth}]),p.bBoxRel={left:y[0].x,top:y[0].y,right:y[1].x,bottom:y[1].y,width:y[1].x-y[0].x,height:y[1].y-y[0].y};break;case"circle":(l={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||l.height||(l.width=l.height=10),l.width||(l.width=l.height),l.height||(l.height=l.width),l.right=l.left+l.width,l.bottom=l.top+l.height,_=l.left+l.width/2,d=l.top+l.height/2,a=p.strokeWidth/2,f=l.width/2,x=l.height/2,M=f*Math.SQRT2+a,y=x*Math.SQRT2+a,p.pathListRel=[[(a=[{x:_-M,y:d},{x:_,y:d-y},{x:_+M,y:d},{x:_,y:d+y}])[0],{x:a[0].x,y:a[0].y-(_=y*ct)},{x:a[1].x-(d=M*ct),y:a[1].y},a[1]],[a[1],{x:a[1].x+d,y:a[1].y},{x:a[2].x,y:a[2].y-_},a[2]],[a[2],{x:a[2].x,y:a[2].y+_},{x:a[3].x+d,y:a[3].y},a[3]],[a[3],{x:a[3].x-d,y:a[3].y},{x:a[0].x,y:a[0].y+_},a[0]],[]],f=M-f+p.strokeWidth/2,x=y-x+p.strokeWidth/2,a=[{x:l.left-f,y:l.top-x},{x:l.right+f,y:l.bottom+x}],p.bBoxRel={left:a[0].x,top:a[0].y,right:a[1].x,bottom:a[1].y,width:a[1].x-a[0].x,height:a[1].y-a[0].y};break;case"polygon":e.points.forEach(function(S){var A=S.x[0]*(S.x[1]?t.width:1),S=S.y[0]*(S.y[1]?t.height:1);i?(A<i.left&&(i.left=A),A>i.right&&(i.right=A),S<i.top&&(i.top=S),S>i.bottom&&(i.bottom=S)):i={left:A,right:A,top:S,bottom:S},o?p.pathListRel.push([o,{x:A,y:S}]):p.pathListRel=[],o={x:A,y:S}}),p.pathListRel.push([]),a=p.strokeWidth/2,a=[{x:i.left-a,y:i.top-a},{x:i.right+a,y:i.bottom+a}],p.bBoxRel={left:a[0].x,top:a[0].y,right:a[1].x,bottom:a[1].y,width:a[1].x-a[0].x,height:a[1].y-a[0].y}}k.pathListRel=k.bBoxRel=!0}return(k.pathListRel||k.elementLeft||k.elementTop)&&(p.pathData=At(p.pathListRel,function(R){R.x+=t.left,R.y+=t.top})),B(e,E,"strokeWidth",n=p.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),mt(n=p.pathData,E.pathData)&&(e.path.setPathData(n),E.pathData=n,k.pathData=!0),e.dash&&(!k.pathData&&(!k.strokeWidth||e.dashLen&&e.dashGap)||(p.dashLen=e.dashLen||2*p.strokeWidth,p.dashGap=e.dashGap||p.strokeWidth),k.dash=B(e,E,"dashLen",p.dashLen)||k.dash,k.dash=B(e,E,"dashGap",p.dashGap)||k.dash,k.dash&&(e.path.style.strokeDasharray=E.dashLen+","+E.dashGap)),m=p.viewBoxBBox,c=E.viewBoxBBox,h=e.svg.viewBox.baseVal,u=e.svg.style,m.x=p.bBoxRel.left+t.left,m.y=p.bBoxRel.top+t.top,m.width=p.bBoxRel.width,m.height=p.bBoxRel.height,["x","y","width","height"].forEach(function(R){(n=m[R])!==c[R]&&(h[R]=c[R]=n,u[Zt[R]]=n+(R==="x"||R==="y"?e.bodyOffset[R]:0)+"px")}),k.strokeWidth||k.pathListRel||k.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:tt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,t){var n,i,o,a,l,d,f,x,y,_=C.mouseHoverAnchor,M={};if(e.element=C.pointAnchor.checkElement(t.element),f=e.element,!((x=f.ownerDocument)&&(y=x.defaultView)&&y.HTMLElement&&f instanceof y.HTMLElement))throw new Error("`element` must be HTML element");return _.style.backgroundSize=_.backgroundSize.width+"px "+_.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(m){var c=_[m];e[m]=Object.keys(c).reduce(function(h,u){return h[u]=c[u],h},{})}),(n=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display==="inline"?e.style.display="inline-block":n.display==="none"&&(e.style.display="block"),C.mouseHoverAnchor.dirKeys.forEach(function(h){var c=h[0],h="padding"+h[1];parseFloat(n[h])<_.padding[c]&&(e.style[h]=_.padding[c]+"px")}),e.style.display&&(o=e.element.style.display,e.element.style.display=e.style.display),C.mouseHoverAnchor.dirKeys.forEach(function(m){m="padding"+m[1],e.style[m]&&(M[m]=e.element.style[m],e.element.style[m]=e.style[m])}),(f=e.element.getBoundingClientRect()).height<_.minHeight&&(xe?(y=_.minHeight,n.boxSizing==="content-box"?y-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom):n.boxSizing==="padding-box"&&(y-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)),e.style.height=y+"px"):e.style.height=parseFloat(n.height)+(_.minHeight-f.height)+"px"),e.style.backgroundPosition=le?f.width-_.backgroundSize.width-_.backgroundPosition.right+"px "+_.backgroundPosition.top+"px":"right "+_.backgroundPosition.right+"px top "+_.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=o),C.mouseHoverAnchor.dirKeys.forEach(function(m){m="padding"+m[1],e.style[m]&&(e.element.style[m]=M[m])}),["style","hoverStyle"].forEach(function(m){var c=e[m],h=t[m];Ge(h)&&Object.keys(h).forEach(function(u){typeof h[u]=="string"||ve(h[u])?c[u]=h[u]:h[u]==null&&delete c[u]})}),typeof t.onSwitch=="function"&&(d=t.onSwitch),t.showEffectName&&P[t.showEffectName]&&(e.showEffectName=a=t.showEffectName),l=t.animOptions,e.elmStyle=i=e.element.style,e.mouseenter=function(m){e.hoverStyleSave=_.getStyles(i,Object.keys(e.hoverStyle)),_.setStyles(i,e.hoverStyle),e.boundTargets.forEach(function(c){yt(c.props,!0,a,l)}),d&&d(m)},e.mouseleave=function(m){_.setStyles(i,e.hoverStyleSave),e.boundTargets.forEach(function(c){yt(c.props,!1,a,l)}),d&&d(m)},!0},bind:function(e,t){var n,i,o,a,l;return t.props.svg?C.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):Ke(function(){C.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=C.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),C.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(n=e.element,i=e.mouseenter,o=e.mouseleave,"onmouseenter"in n&&"onmouseleave"in n?(n.addEventListener("mouseenter",i,!1),n.addEventListener("mouseleave",o,!1),function(){n.removeEventListener("mouseenter",i,!1),n.removeEventListener("mouseleave",o,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),n.addEventListener("mouseover",a=function(d){d.relatedTarget&&(d.relatedTarget===this||this.compareDocumentPosition(d.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)}),n.addEventListener("mouseout",l=function(d){d.relatedTarget&&(d.relatedTarget===this||this.compareDocumentPosition(d.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),function(){n.removeEventListener("mouseover",a,!1),n.removeEventListener("mouseout",l,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),C.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),C.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){C.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){C.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return nt(e.element,t.baseWindow)},llShow:function(e,t,n){P[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(e,t){return t.reduce(function(n,i){return n[i]=e[i],n},{})},setStyles:function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return typeof t.text=="string"&&(e.text=t.text.trim()),!!e.text&&(typeof t.color=="string"&&(e.color=t.color.trim()),e.outlineColor=typeof t.outlineColor=="string"?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&ve(t.offset[0])&&ve(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),ve(t.lineOffset)&&(e.lineOffset=t.lineOffset),C.captionLabel.textStyleProps.forEach(function(n){t[n]!=null&&(e[n]=t[n])}),e.updateColor=function(n){C.captionLabel.updateColor(e,n)},e.updateSocketXY=function(n){var i,o=e.curStats,a=e.aplStats,l=n.curStats,d=l.position_socketXYSE[e.socketIndex];d.x!=null&&(e.offset?(o.x=d.x+e.offset.x,o.y=d.y+e.offset.y):(i=e.height/2,n=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),l=l.position_socketXYSE[e.socketIndex?0:1],d.socketId===Re||d.socketId===Ve?(o.x=d.socketId===Re?d.x-i-e.width:d.x+i,o.y=l.y<d.y?d.y+n+i:d.y-n-i-e.height):(o.x=l.x<d.x?d.x+n+i:d.x-n-i-e.width,o.y=d.socketId===Ae?d.y-i-e.height:d.y+i)),B(e,a,"x",i=o.x)&&(e.elmPosition.x.baseVal.getItem(0).value=i),B(e,a,"y",i=o.y)&&(e.elmPosition.y.baseVal.getItem(0).value=i+e.height))},e.updatePath=function(a){var i=e.curStats,o=e.aplStats,a=a.pathList.animVal||a.pathList.baseVal;a&&(a=C.captionLabel.getMidPoint(a,e.lineOffset),i.x=a.x-e.width/2,i.y=a.y-e.height/2,B(e,o,"x",a=i.x)&&(e.elmPosition.x.baseVal.getItem(0).value=a),B(e,o,"y",a=i.y)&&(e.elmPosition.y.baseVal.getItem(0).value=a+e.height))},e.updateShow=function(n){C.captionLabel.updateShow(e,n)},le&&(e.adjustEdge=function(n,i){var o=e.curStats;o.x!=null&&C.captionLabel.adjustEdge(i,{x:o.x,y:o.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,o){var n=e.curStats,i=e.aplStats,o=o.curStats;n.color=o=e.color||o.line_color,B(e,i,"color",o)&&(e.styleFill.fill=o)},updateShow:function(e,t){t=t.isShown===!0,t!==e.isShown&&(e.styleShow.visibility=t?"":"hidden",e.isShown=t)},adjustEdge:function(e,t,n){n={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n},n.x1<e.x1&&(e.x1=n.x1),n.y1<e.y1&&(e.y1=n.y1),n.x2>e.x2&&(e.x2=n.x2),n.y2>e.y2&&(e.y2=n.y2)},newText:function(e,t,n,i,o){var a,l,d=t.createElementNS(U,"text");return d.textContent=e,[d.x,d.y].forEach(function(f){var x=n.createSVGLength();x.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),f.baseVal.initialize(x)}),typeof Me!="boolean"&&(Me="paintOrder"in d.style),o&&!Me?(a=t.createElementNS(U,"defs"),d.id=i,a.appendChild(d),(l=(e=t.createElementNS(U,"g")).appendChild(t.createElementNS(U,"use"))).href.baseVal="#"+i,(t=e.appendChild(t.createElementNS(U,"use"))).href.baseVal="#"+i,(l=l.style).strokeLinejoin="round",{elmPosition:d,styleText:d.style,styleFill:t.style,styleStroke:l,styleShow:e.style,elmsAppend:[a,e]}):(l=d.style,o&&(l.strokeLinejoin="round",l.paintOrder="stroke"),{elmPosition:d,styleText:l,styleFill:l,styleStroke:o?l:null,styleShow:l,elmsAppend:[d]})},getMidPoint:function(e,t){var n,i,a=nn(e),o=a.segsLen,a=a.lenAll,l=-1,d=a/2+(t||0);if(d<=0)return(n=e[0]).length===2?it(n[0],n[1],0):Qe(n[0],n[1],n[2],n[3],0);if(a<=d)return(n=e[e.length-1]).length===2?it(n[0],n[1],1):Qe(n[0],n[1],n[2],n[3],1);for(i=[];d>o[++l];)i.push(e[l]),d-=o[l];return(n=e[l]).length===2?it(n[0],n[1],d/o[l]):Qe(n[0],n[1],n[2],n[3],Lt(n[0],n[1],n[2],n[3],d))},initSvg:function(e,t){var n,i,o=C.captionLabel.newText(e.text,t.baseWindow.document,t.svg,ce+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(a){e[a]=o[a]}),e.isShown=!1,e.styleShow.visibility="hidden",C.captionLabel.textStyleProps.forEach(function(a){e[a]!=null&&(o.styleText[a]=e[a])}),o.elmsAppend.forEach(function(a){t.svg.appendChild(a)}),n=o.elmPosition.getBBox(),e.width=n.width,e.height=n.height,e.outlineColor&&(i=n.height/9,o.styleStroke.strokeWidth=(i=10<i?10:i<2?2:i)+"px",o.styleStroke.stroke=e.outlineColor),e.strokeWidth=i||0,fe(e.aplStats,C.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),le&&ke(t,{}),e.updateShow(t)},bind:function(e,t){var n=t.props;return e.color||ue(n,"cur_line_color",e.updateColor),(e.refSocketXY=t.optionName==="startLabel"||t.optionName==="endLabel")?(e.socketIndex=t.optionName==="startLabel"?0:1,ue(n,"apl_position",e.updateSocketXY),e.offset||(ue(n,"cur_attach_plugSideLenSE",e.updateSocketXY),ue(n,"cur_line_strokeWidth",e.updateSocketXY))):ue(n,"apl_path",e.updatePath),ue(n,"svgShow",e.updateShow),le&&ue(n,"new_edge4viewBox",e.adjustEdge),C.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(i){n.svg.removeChild(i)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),fe(e.curStats,C.captionLabel.stats),fe(e.aplStats,C.captionLabel.stats),e.color||he(n,"cur_line_color",e.updateColor),e.refSocketXY?(he(n,"apl_position",e.updateSocketXY),e.offset||(he(n,"cur_attach_plugSideLenSE",e.updateSocketXY),he(n,"cur_line_strokeWidth",e.updateSocketXY))):he(n,"apl_path",e.updatePath),he(n,"svgShow",e.updateShow),le&&(he(n,"new_edge4viewBox",e.adjustEdge),ke(n,{}))},removeOption:function(e,t){var n=t.props,i={};i[t.optionName]="",_t(n,i)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){C.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return typeof t.text=="string"&&(e.text=t.text.trim()),!!e.text&&(typeof t.color=="string"&&(e.color=t.color.trim()),e.outlineColor=typeof t.outlineColor=="string"?t.outlineColor.trim():"#fff",ve(t.lineOffset)&&(e.lineOffset=t.lineOffset),C.captionLabel.textStyleProps.forEach(function(n){t[n]!=null&&(e[n]=t[n])}),e.updateColor=function(n){C.captionLabel.updateColor(e,n)},e.updatePath=function(n){var i=e.curStats,o=e.aplStats,a=n.curStats,l=n.pathList.animVal||n.pathList.baseVal;l&&(i.pathData=a=C.pathLabel.getOffsetPathData(l,a.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),mt(a,o.pathData)&&(e.elmPath.setPathData(a),o.pathData=a,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(n)))},e.updateStartOffset=function(n){var i,o,a=e.curStats,l=e.aplStats,d=n.curStats;a.pathData&&(e.semIndex===2&&!e.lineOffset||(o=a.pathData.reduce(function(f,x){var y,_=x.values;switch(x.type){case"M":i={x:_[0],y:_[1]};break;case"L":y={x:_[0],y:_[1]},i&&(f+=Ie(i,y)),i=y;break;case"C":y={x:_[4],y:_[5]},i&&(f+=at(i,{x:_[0],y:_[1]},{x:_[2],y:_[3]},y)),i=y}return f},0),n=e.semIndex===0?0:e.semIndex===1?o:o/2,e.semIndex!==2&&(d=Math.max(d.attach_plugBackLenSE[e.semIndex]||0,d.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,n=(n+=e.semIndex===0?d:-d)<0?0:o<n?o:n),e.lineOffset&&(n=(n+=e.lineOffset)<0?0:o<n?o:n),a.startOffset=n,B(e,l,"startOffset",n)&&(e.elmOffset.startOffset.baseVal.value=n)))},e.updateShow=function(n){C.captionLabel.updateShow(e,n)},le&&(e.adjustEdge=function(n,i){e.bBox&&C.captionLabel.adjustEdge(i,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var i,o,a=[];function l(d,f){return Math.abs(d.x-f.x)<3&&Math.abs(d.y-f.y)<3}return e.forEach(function(d){var f,x,y,_,M,m,c,h,u,p,E;d.length===2?(h=d[0],u=d[1],p=t,E=Math.atan2(h.y-u.y,u.x-h.x)+.5*Math.PI,f=[{x:h.x+Math.cos(E)*p,y:h.y+Math.sin(E)*p*-1},{x:u.x+Math.cos(E)*p,y:u.y+Math.sin(E)*p*-1}],i?(y=i.points,0<=(c=Math.atan2(y[1].y-y[0].y,y[0].x-y[1].x)-Math.atan2(d[0].y-d[1].y,d[1].x-d[0].x))&&c<=Math.PI?x={type:"line",points:f,inside:!0}:(M=ft(y[0],y[1],t),_=ft(f[1],f[0],t),m=y[0],h=f[1],E=(u=M).x-m.x,p=u.y-m.y,c=h.x-_.x,u=h.y-_.y,h=(-p*(m.x-_.x)+E*(m.y-_.y))/(-c*p+E*u),u=(c*(m.y-_.y)-u*(m.x-_.x))/(-c*p+E*u),x=(p=0<=h&&h<=1&&0<=u&&u<=1?{x:m.x+u*E,y:m.y+u*p}:null)?{type:"line",points:[y[1]=p,f[1]]}:(y[1]=l(_,M)?_:M,{type:"line",points:[_,f[1]]}),i.len=Ie(y[0],y[1]))):x={type:"line",points:f},x.len=Ie(x.points[0],x.points[1]),a.push(i=x)):(a.push({type:"cubic",points:(function(w,k,R,A,S,L){for(var s,r,v=at(w,k,R,A)/L,T=1/(L<S?S/L*v:v),g=[],V=0;r=(90-(s=Qe(w,k,R,A,V)).angle)*(Math.PI/180),g.push({x:s.x+Math.cos(r)*S,y:s.y+Math.sin(r)*S*-1}),!(1<=V);)1<(V+=T)&&(V=1);return g})(d[0],d[1],d[2],d[3],t,16)}),i=null)}),i=null,a.forEach(function(d){var f;i=d.type==="line"?(d.inside&&(i.len>t?((f=i.points)[1]=ft(f[0],f[1],-t),i.len=Ie(f[0],f[1])):(i.points=null,i.len=0),d.len>t+n?((f=d.points)[0]=ft(f[1],f[0],-(t+n)),d.len=Ie(f[0],f[1])):(d.points=null,d.len=0)),d):null}),a.reduce(function(d,f){var x=f.points;return x&&(o&&l(x[0],o)||d.push({type:"M",values:[x[0].x,x[0].y]}),f.type==="line"?d.push({type:"L",values:[x[1].x,x[1].y]}):(x.shift(),x.forEach(function(y){d.push({type:"L",values:[y.x,y.y]})})),o=x[x.length-1]),d},[])},newText:function(e,t,n,i){var o,a,l,d,f=t.createElementNS(U,"defs"),x=f.appendChild(t.createElementNS(U,"path"));return x.id=o=n+"-path",(l=(a=t.createElementNS(U,"text")).appendChild(t.createElementNS(U,"textPath"))).href.baseVal="#"+o,l.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),l.textContent=e,typeof Me!="boolean"&&(Me="paintOrder"in a.style),i&&!Me?(a.id=e=n+"-text",f.appendChild(a),(d=(n=t.createElementNS(U,"g")).appendChild(t.createElementNS(U,"use"))).href.baseVal="#"+e,(t=n.appendChild(t.createElementNS(U,"use"))).href.baseVal="#"+e,(d=d.style).strokeLinejoin="round",{elmPosition:a,elmPath:x,elmOffset:l,styleText:a.style,styleFill:t.style,styleStroke:d,styleShow:n.style,elmsAppend:[f,n]}):(d=a.style,i&&(d.strokeLinejoin="round",d.paintOrder="stroke"),{elmPosition:a,elmPath:x,elmOffset:l,styleText:d,styleFill:d,styleStroke:i?d:null,styleShow:d,elmsAppend:[f,a]})},initSvg:function(e,t){var n,i,o,a=C.pathLabel.newText(e.text,t.baseWindow.document,ce+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(l){e[l]=a[l]}),e.isShown=!1,e.styleShow.visibility="hidden",C.captionLabel.textStyleProps.forEach(function(l){e[l]!=null&&(a.styleText[l]=e[l])}),a.elmsAppend.forEach(function(l){t.svg.appendChild(l)}),a.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Xe&&(o=a.elmOffset.href.baseVal,a.elmOffset.href.baseVal=""),n=a.elmPosition.getBBox(),Xe&&(a.elmOffset.href.baseVal=o),a.styleText.textAnchor=["start","end","middle"][e.semIndex],e.semIndex!==2||e.lineOffset||a.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=n.height,e.outlineColor&&(i=n.height/9,a.styleStroke.strokeWidth=(i=10<i?10:i<2?2:i)+"px",a.styleStroke.stroke=e.outlineColor),e.strokeWidth=i||0,fe(e.aplStats,C.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),le&&ke(t,{}),e.updateShow(t)},bind:function(e,t){var n=t.props;return e.color||ue(n,"cur_line_color",e.updateColor),ue(n,"cur_line_strokeWidth",e.updatePath),ue(n,"apl_path",e.updatePath),e.semIndex=t.optionName==="startLabel"?0:t.optionName==="endLabel"?1:2,e.semIndex===2&&!e.lineOffset||ue(n,"cur_attach_plugBackLenSE",e.updateStartOffset),ue(n,"svgShow",e.updateShow),le&&ue(n,"new_edge4viewBox",e.adjustEdge),C.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(i){n.svg.removeChild(i)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),fe(e.curStats,C.pathLabel.stats),fe(e.aplStats,C.pathLabel.stats),e.color||he(n,"cur_line_color",e.updateColor),he(n,"cur_line_strokeWidth",e.updatePath),he(n,"apl_path",e.updatePath),e.semIndex===2&&!e.lineOffset||he(n,"cur_attach_plugBackLenSE",e.updateStartOffset),he(n,"svgShow",e.updateShow),le&&(he(n,"new_edge4viewBox",e.adjustEdge),ke(n,{}))},removeOption:function(e,t){var n=t.props,i={};i[t.optionName]="",_t(n,i)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){C.pathLabel.unbind(e,t)}))}}},Object.keys(C).forEach(function(e){Se[e]=function(){return new z(C[e],Array.prototype.slice.call(arguments))}}),Se.S=$e,Se.Se=me,Se.$e=ke,Se})({});class Nt{#n;#e=!1;#a=!1;#i;#t;#o=null;#s=null;#r=null;constructor(N,O){const{linkingDuration:P=500,lineOptions:C,onLinkChange:z}=O||{};this.#n=N,this.#r=C,this.#s=typeof z=="function"&&z,this.#i=Number(P);const q=this.#e=!!O.linked;this.#a=q;let se=-1;const Le=N.length-2;for(this.#t=q?Le:0;se<Le;){se++;const We=N[se],Me=N[se+1],De=new Fe({...C,start:We,end:Me,hidden:!this.#e});Object.defineProperty(We,"outLine",{get:()=>De}),Object.defineProperty(Me,"inLine",{get:()=>De})}dn.chains.push(this)}link(){if(!this.linked){const N=this.#n,O=()=>{const C=N.length-2;if(this.#t<=C){const z=N[this.#t].outLine;clearTimeout(this.#o),z.show("draw",{duration:this.#i}),this.#a=!0,this.#o=setTimeout(()=>{const q=this.#s;this.#t++,O(),q&&q({startNode:z.start,endNode:z.end,line:z,nodesLinked:!0,hopIndex:this.#t-(this.#e?0:1)})},this.#i)}else this.#t--,this.#e=!0};O()}}unlink(){if(this.partiallyLinked){const N=this.#n,O=()=>{if(this.#t>-1){const P=N[this.#t].outLine;clearTimeout(this.#o),this.#e=!1,P.hide("draw",{duration:this.#i}),this.#o=setTimeout(()=>{const C=this.#s;this.#t--;const z=this.#t<0;O(),C&&C({startNode:P.start,endNode:P.end,line:P,nodesLinked:!1,hopIndex:this.#t+(z?0:1)})},this.#i)}else this.#t++,this.#a=!1};O()}}get nodes(){return[...this.#n]}get linked(){return this.#e}get partiallyLinked(){return this.#a}get lines(){const N=[],O=this.#n,{length:P}=O;for(let C=1;C<P;C++)N.push(O[C].inLine);return N}unshiftNode(N){if(N instanceof HTMLElement){const O=this.#n;if(O.every(P=>P!==N)){const P=O.at(0);O.unshift(N);const C=new Fe({...this.#r,start:N,end:P,hidden:!0});if(Object.defineProperty(N,"outLine",{get:()=>C}),Object.defineProperty(P,"inLine",{get:()=>C}),this.#a){this.#t++;const z=this.#s;C.show("draw",{duration:this.#i}),z&&z({startNode:C.start,endNode:C.end,line:C,nodesLinked:!0,hopIndex:0})}}}else throw new Error("LinkerLine chain node must be an HTML element")}pushNode(N){if(N instanceof HTMLElement){const O=this.#n;if(O.every(P=>P!==N)){const P=O.at(-1);O.push(N);const C=new Fe({...this.#r,start:P,end:N,hidden:!0});Object.defineProperty(P,"outLine",{get:()=>C}),Object.defineProperty(N,"inLine",{get:()=>C}),this.#e&&(this.#e=!1,this.#t++,this.link())}}else throw new Error("LinkerLine chain node must be an HTML element")}static getLineChain(N){if(N instanceof Fe){const{chains:O}=dn,P=O.length;let C=0;for(;C<P;){const z=O[C];let q=1;const{nodes:se}=z,Le=se.length;for(;q<Le;){if(N===se[q].inLine)return z;q++}C++}return null}else return null}}const dn={chains:[]};function ti(K){const{name:N}=K;if(N){if(Oe.names[N])throw new Error(`Plug "${N}" already defined`);{let O=document.body.querySelector(":scope>#linker-line-defs");if(!O){const C=document.body.appendChild(document.createElement("div")),z=document.body.appendChild(document.createElement("div"));new Oe({start:C,end:z}).remove(),C.remove(),z.remove(),O=document.body.querySelector(":scope>#linker-line-defs")}const P=O.querySelector(":scope>defs");if("shape"in K)oi(P,K);else if("svg"in K)ai(P,K);else if("src"in K)ii(P,K);else throw new Error("invalid custom plug definition object")}}else throw new Error("Plug name is required")}const fn={shapes:["rect","ellipse"]},ni=K=>{const{element:N}=K,{plugs:O}=Oe;[K.startPlug,K.endPlug].forEach((P,C)=>{if(O[P]?.withsvg){const q=N.querySelector(`[id$=plug-marker-${C}] use[href]`);q&&(q.style.stroke=q.style.fill||K[(C?"end":"start")+"PlugColor"]||K.color||"black",q.style.strokeWidth=(K.size||4)/2)}})},ii=(K,N)=>{const{src:O}=N;if(typeof O=="string"){const P=document.createElementNS("http://www.w3.org/2000/svg","g"),C=document.createElementNS("http://www.w3.org/2000/svg","image"),{width:z=24,height:q=24}=N;C.setAttribute("width",z),C.setAttribute("height",q),C.setAttribute("href",O),P.appendChild(C),K.appendChild(P),P.setAttribute("transform",`translate(-${z/2},-${q/2})`);const{elmId:se}=Wt({...N,width:z,height:q,withsvg:!0});P.id=se}else throw new Error('Property "src" should be of type string')},ai=(K,N)=>{let{svg:O}=N;if(typeof O=="function"&&(O=O("inherit","inherit")),typeof O=="string"){const P=document.createElementNS("http://www.w3.org/2000/svg","g");P.innerHTML=O,K.appendChild(P);const C=P.querySelector(":scope>svg"),z=N.width||C.width.baseVal.value,q=N.height||C.height.baseVal.value;C.setAttribute("width",z),C.setAttribute("height",q),P.setAttribute("transform",`translate(-${z/2},-${q/2})`);const{elmId:se}=Wt({...N,width:z,height:q,withsvg:!0});P.id=se}else throw new Error('Property "svg" should be of type string or a function that returns a string')},oi=(K,N)=>{const{shape:O}=N;if(fn.shapes.includes(O)){const{width:P=0,height:C=0}=N;N.width=P,N.height=C;const{elmId:z}=Wt(N),q=document.createElementNS("http://www.w3.org/2000/svg",O);q.id=z,K.appendChild(q),O==="rect"?(q.setAttribute("x",-P/2),q.setAttribute("y",-C/2),q.setAttribute("width",P),q.setAttribute("height",C)):O==="ellipse"&&(q.setAttribute("cx",0),q.setAttribute("cy",0),q.setAttribute("rx",P/2),q.setAttribute("ry",C/2))}else throw new Error(`shape should be one of: ${fn.shapes.toString()}`)},Wt=K=>{const{name:N,width:O,height:P,margin:C,rotatable:z=!0}=K,q=Math.max(O,P)/2,se={elmId:`linker-line-${N}`,bBox:{width:O,height:P,top:-P/2,left:-O/2,right:O/2,bottom:P/2},widthR:O/4,heightR:P/4,bCircle:q,sideLen:q,backLen:q,overhead:typeof C=="number"&&C,outlineBase:2,outlineMax:1.5,noRotate:!z,withsvg:K.withsvg};return Oe.plugs[N]=se,Oe.names[N]=N,se};class Fe extends Oe{#n;#e=!1;constructor(N){N.ee=Math.max(Number(N.minGridLength),1)||40,N.hide=!!N.hidden,super(N),this.#e=N.hide;const{id:O}=this;st.linemap[O]=this,this.#n=Oe.Se[O].svg,this.#n.style.willChange="left,top";const{parent:P=this.end.parentNode}=N;P instanceof HTMLElement&&(getComputedStyle(P).position==="static"&&(P.style.position="relative"),P.appendChild(this.element),this.position(),ni(this))}set dash(N){mn(N),super.dash=N}position(){if(!(this.#e||this.removed)){super.position();const{element:N}=this,O=N.parentNode,{left:P,top:C}=O.getBoundingClientRect(),z=O.scrollLeft-P-window.scrollX,q=O.scrollTop-C-window.scrollY;N.style.transform=`translate(${z}px,${q}px)`}}show(N,O){this.#e=!1,bt(O),super.show(N,O),this.position()}hide(N,O){this.#e=!0,bt(O),super.hide(N,O)}remove(){this.removed||(delete st.linemap[this.id],document.body.appendChild(this.element),super.remove())}setOptions(N){mn(N.dash),super.setOptions(N),this.position()}get standalone(){return!Nt.getLineChain(this)}get element(){return this.#n}get id(){return this._id}get hidden(){return this.#e}get removed(){return!st.linemap[this.id]}get start(){return super.start}get end(){return super.end}get color(){return super.color}get size(){return super.size}static definePlug(N){ti(N)}static positionAll(){const{linemap:N}=st;for(const O in N){const P=N[O];P.start.isConnected&&P.end.isConnected&&P.position()}}static removeAll(){const{linemap:N}=st;for(const O in N){const P=N[O];P.standalone&&P.remove()}}static PointAnchor(N,O){return Oe.pointAnchor(N,O)}static AreaAnchor(N,O){return Oe.areaAnchor(N,O)}static MouseHoverAnchor(N,O){if(O){const{onToggle:P}=O;P&&(O.onSwitch=P),O.animOptions=bt(O.animation)}return Oe.mouseHoverAnchor(N,O)}static Label(N,O){const{on:P="path"}=O||{};if(O){const{offset:z}=O;typeof z=="number"&&(O.offset=[z,z]),O.outlineColor||(O.outlineColor="transparent")}const C=Oe[P==="path"?"pathLabel":"captionLabel"];return C(N,O)}static get plugs(){return Object.keys(Oe.plugs)}static get names(){return Object.keys(Oe.names)}static Chain=Nt;static getLineChain=Nt.getLineChain}const st={linemap:{}};window.addEventListener("resize",()=>{requestAnimationFrame(Fe.positionAll)},!1);const mn=K=>{K&&typeof K=="object"&&(bt(K.animation),K.len=K.length,delete K.length)},bt=K=>{K&&typeof K=="object"&&(K.timing=K.easing,delete K.easing)},si={class:"plans-container",ref:"linescontainer"},ri={class:"inputs-left"},li={href:"https://starbeamjs.com/",ref:"starbeam"},ui={href:"https://g-next.netlify.app/",ref:"gxt"},hi={href:"https://warp-drive.io/",ref:"warpdrive"},pi={href:"https://github.com/tc39/proposal-signals",ref:"signals"},ci={class:"universal-web-dev"},di={class:"inputs-right"},fi={href:"https://svelte.dev/",ref:"svelte"},mi={href:"https://www.solidjs.com/",ref:"solid"},gi={href:"https://vuejs.org/",ref:"vue"},yi={class:"the-plan-outputs"},Si={ref:"web"},_i={ref:"cli"},vi={ref:"canvas"},bi={ref:"webgl"},Ei={ref:"ios"},xi={ref:"android"},ki={ref:"unreal",class:"unreal-askew"},wi=In({__name:"ThePlan",setup(K){yn(),_e("linescontainer");const N={starbeam:_e("starbeam"),gxt:_e("gxt"),warpdrive:_e("warpdrive"),signals:_e("signals")},O={svelte:_e("svelte"),solid:_e("solid"),vue:_e("vue")},P=_e("ember"),C={web:_e("web"),cli:_e("cli"),canvas:_e("canvas"),ios:_e("ios"),android:_e("android"),webGL:_e("webgl"),unrealEngine:_e("unreal")};let z=[];function q(){let re=null;for(let[J,Be]of Object.entries(N)){let Ce=new Fe({parent:re,start:Be.value,end:P.value,hidden:!0});z.push(Ce)}for(let[J,Be]of Object.entries(O)){let Ce=new Fe({parent:re,start:Be.value,end:P.value,hidden:!0});z.push(Ce)}for(let[J,Be]of Object.entries(C)){let Ce=new Fe({parent:re,start:P.value,end:Be.value,hidden:!0,path:"straight"});z.push(Ce)}globalThis.lines=z,globalThis.LinkerLine=Fe}const se=Fn();function Le(){console.log("show"),z.length===0&&q(),requestAnimationFrame(()=>{console.log("draw"),z.forEach(re=>re.show("draw"))})}function We(){console.log("hide"),z.forEach(re=>re.hide("none"))}let Me;function De(re){clearTimeout(Me),Me=setTimeout(()=>{re()},100)}function rt(){let re=se.value;if(console.log("update",{active:re}),re){Le();return}We()}return Ln(se,(re,J)=>{console.log({newValue:re,oldValue:J}),De(rt)}),(re,J)=>(Tt(),gn("div",si,[H("div",ri,[H("a",li,[...J[0]||(J[0]=[H("img",{src:Hn},null,-1),H("span",null,"Starbeam",-1)])],512),H("a",ui,[...J[1]||(J[1]=[H("img",{src:Un},null,-1),H("span",null,"glimmer-next",-1)])],512),H("a",hi,[...J[2]||(J[2]=[H("img",{src:Yn},null,-1),H("span",null,"WarpDrive",-1)])],512),H("a",pi,[...J[3]||(J[3]=[H("img",{src:Zn},null,-1),H("span",null,"TC39 Signals",-1)])],512)]),H("div",ci,[H("a",{href:"https://emberjs.com/",ref_key:"ember",ref:P},[...J[4]||(J[4]=[H("img",{src:Rn},null,-1),H("span",null,"Ember",-1)])],512)]),H("div",di,[H("a",fi,[...J[5]||(J[5]=[H("img",{src:qn},null,-1),H("span",null,"Svelte",-1)])],512),H("a",mi,[...J[6]||(J[6]=[H("img",{src:Xn},null,-1),H("span",null,"Solid",-1)])],512),H("a",gi,[...J[7]||(J[7]=[H("img",{src:$n},null,-1),H("span",null,"Vue",-1)])],512)]),H("div",yi,[H("div",Si,[...J[8]||(J[8]=[H("img",{src:cn},null,-1),H("span",null,"Web",-1)])],512),H("div",_i,[...J[9]||(J[9]=[H("img",{src:Gn},null,-1),H("span",null,"CLI",-1)])],512),H("div",vi,[...J[10]||(J[10]=[H("img",{src:cn},null,-1),H("span",null,"Canvas",-1)])],512),H("div",bi,[...J[11]||(J[11]=[H("img",{src:Qn},null,-1),H("span",null,"WebGL",-1)])],512),H("div",Ei,[...J[12]||(J[12]=[H("img",{src:Kn},null,-1),H("span",null,"iOS",-1)])],512),H("div",xi,[...J[13]||(J[13]=[H("img",{src:Jn},null,-1),H("span",null,"Android",-1)])],512),H("div",ki,[...J[14]||(J[14]=[H("img",{src:ei},null,-1),H("span",null,[Et("Unreal"),H("br"),Et("Engine")],-1)])],512)])],512))}}),Oi=Dn(wi,[["__scopeId","data-v-295b5d68"]]),Mi={style:{position:"absolute",bottom:"1rem",left:"1rem","max-width":"250px"}},Ni={__name:"3-upcoming-things.md__slidev_85",setup(K){const{$clicksContext:N,$frontmatter:O}=yn();return N.setup(),(P,C)=>{const z=Oi,q=An("click");return Tt(),Vn(zn,Wn(Bn(pn(jn)(pn(O),84))),{default:Pn(()=>[Nn(z),H("p",null,[Tn((Tt(),gn("span",Mi,[...C[0]||(C[0]=[Et("All of this is hugely aspirational",-1),H("br",null,null,-1),Et(" (for now)",-1)])])),[[q]])])]),_:1},16)}}};export{Ni as default};
